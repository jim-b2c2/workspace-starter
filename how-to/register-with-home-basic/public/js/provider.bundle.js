/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/workspace-platform/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@openfin/workspace-platform/index.js ***!
  \***********************************************************/
/***/ ((module) => {

(()=>{"use strict";var e,t,a,n,o,i,r,s={d:(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},c={};s.r(c),s.d(c,{AppManifestType:()=>i,BrowserButtonType:()=>u,CustomActionCallerType:()=>g,GlobalContextMenuOptionType:()=>p,PageTabContextMenuOptionType:()=>w,ViewTabMenuOptionType:()=>l,getCurrentSync:()=>wt,init:()=>Qt,wrapSync:()=>pt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.Active="active",e.Default="default"}(t||(t={})),function(e){e.Suggestion="suggestion"}(a||(a={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(n||(n={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(i||(i={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}));var d,p,w,l,u,g,h;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(d||(d={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.CloseWindow="CloseWindow",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(p||(p={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(l||(l={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(u||(u={})),function(e){e.CustomButton="CustomButton",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.API="API"}(g||(g={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(h||(h={}));const y="undefined"!=typeof window&&"undefined"!=typeof fin,f=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),m=f&&"undefined"!=typeof indexedDB,P=f?window.origin:h.Local,v=y&&fin.me.uuid,S=y&&fin.me.name,b=y&&fin.me.entityType,C=(h.Local,h.Dev,h.Staging,h.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:P+e),W=(C("https://cdn.openfin.co/workspace/6.3.6"),C("https://cdn.openfin.co/workspace/6.3.6")),I=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&C(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&C(WORKSPACE_DOCS_CLIENT_URL),"23.96.68.3");var T;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(T||(T={}));const k=T;var A,M,V;!function(e){e.Workspace="openfin-browser"}(A||(A={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(M||(M={})),function(e){e.FinProtocol="fin-protocol"}(V||(V={}));const O={uuid:v,name:v},x=(A.Workspace,A.Workspace,e=>{if(!y)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)});var F,L;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(F||(F={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(L||(L={}));function D(e){if(!y)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const R={name:S,uuid:v};function U(){return D(R)}F.Home,A.Workspace,F.Dock,A.Workspace;const E={name:F.Storefront,uuid:A.Workspace};A.Workspace,A.Workspace;async function G(e){const t=D(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.bringToFront(),await t.focus()}const B=e=>e.startsWith(F.BrowserWindow);async function _(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>B(e.identity.name)))}const N=e=>D(e).getOptions().then((()=>!0)).catch((()=>!1)),H=()=>N(E);async function $(){if("undefined"!=typeof localStorage)try{const e=localStorage.getItem(k.LastFocusedBrowserWindow),t=JSON.parse(e);if(await N(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function q(e=fin.me.identity){B(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);localStorage.setItem(k.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const j=(e,t=0)=>{let a,n,o=!1;const i=async n=>{const r=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,i(e)}return r};return(...e)=>(n?(o=!0,a=e):n=i(e).then((e=>(n=void 0,e))),n)};var Q;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Q||(Q={}));const K=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=K(e.content);t.push(...a)})),t},z=async(e,t,a=R)=>{let n;if(B(a.name)){n=(await D(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;const J=f&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function X(e){let t;return()=>{if(!y)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await J;const a=await fin.InterApplicationBus.Channel.connect(e);return a.onDisconnection((async()=>{t=void 0})),a})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Y=e=>`__browser_window__-${e.uuid}-${e.name}`,Z=new Map,ee=e=>{const t=Y(e);return Z.has(t)||Z.set(t,X(t)),Z.get(t)()};var te,ae,ne;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.SavePage="save-page",e.DuplicatePage="duplicate-page"}(te||(te={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(ae||(ae={})),function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(ne||(ne={}));new Map;const oe=async e=>{const t=await ee(e);return await t.dispatch(ae.GetPages)},ie=async e=>(await ee(e.identity)).dispatch(ae.UpdatePageForWindow,e);var re;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal"}(re||(re={}));const se=async e=>{const t=fin.Platform.wrapSync(e),a=await t.getClient(),n="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";try{if(!0===await a.dispatch("isWorkspacePlatform"))return a;throw new Error(n)}catch(e){throw new Error(n)}},ce=async()=>{const e=await _();return(await Promise.all(e.map((async({identity:e})=>oe(e))))).reduce(((e,t)=>e.concat(t)),[])},de=async()=>(await se(R)).dispatch(re.GetSavedPages,void 0),pe=async e=>(await se(R)).dispatch(re.GetSavedPage,e),we=async(e,t)=>{const a=await(async e=>(await ce()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await ie({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},le=async({page:e})=>{await we(e.pageId,e),await(async e=>(await se(R)).dispatch(re.CreateSavedPage,e))({page:e})},ue=async e=>{await pe(e)&&await(async e=>(await se(R)).dispatch(re.DeleteSavedPage,e))(e)},ge=async({pageId:e,page:t})=>{await we(e,t);return await(async e=>(await se(R)).dispatch(re.UpdateSavedPage,e))({pageId:e,page:t})},he=async e=>await pe(e.pageId)?ge({pageId:e.pageId,page:e}):le({page:e}),ye=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.AttachPagesToWindow,e))(e)},fe=async e=>{await ie(e)},me=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.DetachPagesFromWindow,e))(e)},Pe=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.SetActivePageForWindow,e))(e)},ve=e=>oe(e),Se=async({identity:e,pageId:t})=>(await ve(e)).find((e=>e.pageId===t)),be=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.ReorderPagesForWindow,e))(e)},Ce=(e,t)=>!t.find((t=>t===e)),We=(e,t)=>`${e} (${t})`;async function Ie(e="Untitled Page"){const[t,a]=await Promise.all([de(),ce()]),n=[...t,...a].map((({title:e})=>e));if(!n.find((t=>t===e)))return e;let o=1;const i=e.replace(/ \(.+\)$/,"");for(;!Ce(We(i,o),n);)o+=1;return We(i,o)}const Te=new Map,ke=e=>`${e.uuid}-${e.name}`;const Ae=j((async function(){const e=await ce(),t=new Set;e.forEach((e=>{K(e.layout.content).forEach((e=>{if(e.name){const a=ke(e);t.add(a)}}))}));const a=U();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=ke(e);if(t.has(a)||Te.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),Te.delete(a)}),5e3);Te.set(a,n)})),Te.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),Te.delete(a))}))}),2500),Me=({name:e})=>{B(e)&&Ae().catch((()=>{}))};function Ve(){const e=x(O);e.addListener(M.WindowOptionsChanged,Ae),e.addListener(M.WindowClosed,Me),e.addListener(M.WindowCreated,Me)}let Oe={};const xe=({actionId:e,payload:t})=>{if("function"!=typeof Oe[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return Oe[e](t)};function Fe(){return localStorage.getItem(k.MachineName)}let Le,De;async function Re(){return Le||(Le=await fin.System.getMachineId()),Le}async function Ue(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=Fe();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await Re(),machineName:a}}}function Ee(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function Ge(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=Ee(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}function Be(){return De||(De=Ge("keyval-store","keyval")),De}function _e(e,t){return e("readonly",(e=>(e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ee(e.transaction))))}const Ne=m&&Ge("openfin-home-pages","pages");async function He(e){const t=await function(e,t=Be()){return t("readonly",(t=>Ee(t.get(e))))}(e,Ne);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function $e(e){const t=await function(e=Be()){const t=[];return _e(e,(e=>t.push(e.key))).then((()=>t))}(Ne),a=await Promise.all(t.map((e=>He(e.toString()))));return e?a.filter((t=>((e,t="")=>e.toLowerCase().includes(t.toLowerCase()))(t.title,e))):a}async function qe({page:e}){await function(e,t,a=Be()){return a("readwrite",(a=>(a.put(t,e),Ee(a.transaction))))}(e.pageId,e,Ne)}async function je(e){await function(e,t=Be()){return t("readwrite",(t=>(t.delete(e),Ee(t.transaction))))}(e,Ne)}async function Qe({pageId:e,page:t}){if(void 0===await He(e))throw new Error("page not found");await qe({page:t}),e!==t.pageId&&await je(e)}var Ke,ze;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Ke||(Ke={}));var Je=new Uint8Array(16);function Xe(){if(!ze&&!(ze="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ze(Je)}const Ye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Ze=function(e){return"string"==typeof e&&Ye.test(e)};for(var et=[],tt=0;tt<256;++tt)et.push((tt+256).toString(16).substr(1));const at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(et[e[t+0]]+et[e[t+1]]+et[e[t+2]]+et[e[t+3]]+"-"+et[e[t+4]]+et[e[t+5]]+"-"+et[e[t+6]]+et[e[t+7]]+"-"+et[e[t+8]]+et[e[t+9]]+"-"+et[e[t+10]]+et[e[t+11]]+et[e[t+12]]+et[e[t+13]]+et[e[t+14]]+et[e[t+15]]).toLowerCase();if(!Ze(a))throw TypeError("Stringified UUID is invalid");return a};const nt=function(e,t,a){var n=(e=e||{}).random||(e.rng||Xe)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var o=0;o<16;++o)t[a+o]=n[o];return t}return at(n)};var ot;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(ot||(ot={}));X("__of_workspace_protocol__");const it=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await Re(),machineName:Fe()}}))(t);return{pageId:nt(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},rt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await se(e)).dispatch(re.GetPagesForWindow,e),getPage:async t=>(await se(e)).dispatch(re.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await se(e);t?.title||(t.title=await a.dispatch(re.GetUniquePageTitle,void 0));const n=(await a.dispatch(re.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(re.AttachPagesToWindow,o)},removePage:async t=>(await se(e)).dispatch(re.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await se(e)).dispatch(re.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.OpenPageTabContextMenuInternal,t)}}),st=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>rt(e),createWindow:async e=>{const a=await t.createWindow(e);return rt(a.identity)},getAllAttachedPages:async()=>(await t.getClient()).dispatch(re.GetAllAttachedPages,void 0),getAllWindows:async()=>(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>rt(e.identity))),getUniquePageTitle:async t=>(await se(e)).dispatch(re.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await se(e)).dispatch(re.GetLastFocusedBrowserWindow,void 0)}},ct=e=>({createPage:async t=>(await se(e)).dispatch(re.CreateSavedPageInternal,t),deletePage:async t=>(await se(e)).dispatch(re.DeleteSavedPageInternal,t),updatePage:async t=>(await se(e)).dispatch(re.UpdateSavedPageInternal,t),getPage:async t=>(await se(e)).dispatch(re.GetSavedPage,t),getPages:async t=>(await se(e)).dispatch(re.GetSavedPages,t),savePage:async t=>(await se(e)).dispatch(re.SavePage,t)}),dt=e=>({getThemes:async()=>(await se(e)).dispatch(re.GetThemes,void 0)}),pt=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async t=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:v,name:S,entityType:b||"unknown"});return(await se(e)).dispatch(re.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await se(e),o={actionId:t,payload:{...a,callerType:a.callerType||g.API}};return n.dispatch(re.InvokeCustomActionInternal,o)},Theme:dt(e),Browser:st(e),Storage:ct(e)})},wt=()=>pt(fin.me.identity),lt=async(e=R)=>{const{workspacePlatform:t}=await D(e).getOptions();return{newPageUrl:t?.newPageUrl,newTabUrl:t?.newTabUrl}},ut=async(e=R)=>{const t=await wt().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=R)=>{const{newPageUrl:t}=await lt(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return z("New Tab",t,e)})(e);return it(t,a)},gt=[{type:Ke.Label,label:"Close Window",data:{type:p.CloseWindow}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Open Storefront",data:{type:p.OpenStorefront}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Quit Workspace",data:{type:p.Quit}}],ht=[{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Close Window",data:{type:p.CloseWindow}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Quit",data:{type:p.Quit}}],yt=async e=>{const t=await H(),{newPageUrl:a}=await lt(e),n=await(async e=>{const t=D(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=[];return a&&(o.push({type:Ke.Label,label:"New Window",data:{type:p.NewWindow}}),n||o.push({type:Ke.Label,label:"New Page",data:{type:p.NewPage}})),t?[...o,...gt]:[...o,...ht]},ft=async(e,t)=>{if(!e)return;const a=t.identity,n=await ee(a);switch(e.type){case p.NewWindow:const{newPageUrl:t}=await lt(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");wt().createView({target:void 0,url:t});break;case p.NewPage:await(async e=>{const t=await ut(e);await wt().Browser.wrapSync(e).addPage(t)})(a);break;case p.CloseWindow:n.dispatch(te.CloseBrowserWindow);break;case p.Quit:n.dispatch(te.QuitPlatform);break;case p.OpenStorefront:(async()=>{await H()&&G(E)})();break;case p.Custom:if(e.action){const t={callerType:g.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};wt()._invokeCustomAction(e.action.id,t)}}},mt=async(e,t)=>{const a=await ee(t.identity);switch(e.type){case w.Save:case w.Rename:a.dispatch(te.SavePage,t.pageId);break;case w.Duplicate:a.dispatch(te.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(te.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:g.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};wt()._invokeCustomAction(e.action.id,a)}}},Pt=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await lt(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...z("New View",t),url:t,target:e}})(e);await wt().createView(o,e,n.identity)},vt=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await lt(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},St=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await wt().createView(n,e,t.identity)})(e,a)}))},bt=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case l.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await wt().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await ee(e)).dispatch(te.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case l.OpenWithDefaultBrowser:await vt(a,t.selectedViews);break;case l.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case l.NewView:await Pt(a,t);break;case l.DuplicateViews:St(a,t.selectedViews);break;case l.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await ee(e)).dispatch(te.AddToChannel,n)})(a,e.option,t.selectedViews);break;case l.RemoveFromChannel:(async(e,t)=>{(await ee(e)).dispatch(te.RemoveFromChannel,t)})(a,t.selectedViews);break;case l.Custom:if(e.action){const n={callerType:g.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};wt()._invokeCustomAction(e.action.id,n)}}};async function Ct(e,t){const a=await yt(e.identity),n={...e,template:a,callback:ft};await this.openGlobalContextMenu(n,t)}const Wt=async(e,t)=>{const{x:a,y:n,identity:o,template:i,callback:r}=e,{data:s}=await function(e,t){if(!y)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:i},fin.Window.wrapSync(o));r(s,e)};async function It(e,t){const a={...e,callback:bt};await this.openViewTabContextMenu(a,t)}async function Tt(e,t){const a=await wt().Storage.getPage(e.pageId),n=await(o=!!a,[{type:Ke.Label,label:"Save Page",data:{type:w.Save}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Rename Page",data:{type:w.Rename},enabled:o},{type:Ke.Label,label:"Duplicate Page",data:{type:w.Duplicate}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Close Page",data:{type:w.Close}}]);var o;const i={...e,template:n,callback:mt};await this.openPageTabContextMenu(i,t)}async function kt({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case i.Snapshot:return a.applySnapshot(e.manifest);case i.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case i.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const At=e=>e&&"object"==typeof e&&!Array.isArray(e);function Mt(e,...t){if(!t.length)return e;const a=t.shift();return At(e)&&At(a)&&Object.entries(a).forEach((([t,a])=>{if(At(a))return e[t]||(e[t]={}),Mt(e[t],a);e[t]=a})),Mt(e,...t)}var Vt,Ot;!function(e){e.HomeIndex="/home/",e.HomeSearch="/home/search/",e.HomePagesRename="/home/pages/rename/",e.Dock="/home/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSavePage="/browser/popup-menu/save-page/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(Vt||(Vt={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(Ot||(Ot={}));const xt=W+{...Ot,...Vt}.Browser;function Ft(e,t){const a=Mt({},t,e);return a.detachOnClose=!0,a}async function Lt(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const Dt=e=>{const t=e.name===F.Home,a=e.name?.startsWith(F.HomeInternal),n=e.name?.startsWith(F.BrowserMenu);return!t&&!a&&!n},Rt=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),Ut={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:xt,contextMenu:!0,cornerRounding:{height:8,width:8},closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${W}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},Et={dimensions:{borderWidth:3,headerHeight:30}},Gt=(e,t)=>t?e.map((e=>({...t,...e}))):e,Bt=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function _t(e){const t=await _();return await Promise.all(t.map((({identity:e})=>(async e=>(await ee(e)).dispatch(ae.UpdatePagesWindowOptions))(e)))),e?e():Ue()}let Nt=[];const Ht=()=>Nt;const $t=e=>async t=>{class a extends t{constructor(){super(),this.isWorkspacePlatform=()=>!0,this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=me,this.getAllAttachedPages=ce,this.getPagesForWindow=ve,this.getPageForWindow=Se,this.setActivePage=Pe,this.launchApp=kt,this.savePage=he,this.createSavedPageInternal=le,this.updateSavedPageInternal=ge,this.deleteSavedPageInternal=ue,this.reorderPagesForWindow=be,this.getUniquePageTitle=Ie,this.updatePageForWindow=fe,this.getLastFocusedBrowserWindow=$,this.getThemes=Ht,this.invokeCustomActionInternal=xe,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this)}async getSnapshot(){const e=await _t((async()=>Ue(await super.getSnapshot(void 0,fin.me.identity))));return{...e,windows:e.windows.filter(Dt)}}async applySnapshot({snapshot:e,options:t}){t?.closeExistingWindows&&await async function(){const e=await _();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}();let a=e;return"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity)),async function(e,t){const a=await ce(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),o=(e.windows||[]).filter((({layout:e})=>!!e)),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const r=[],s=o.map((async e=>{const t=Rt(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await Ie();a.push(await it(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Pe({identity:o.parentIdentity,pageId:o.pageId}),Bt(o.parentIdentity)]),a.length&&r.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(s),!r.length)return;const c=fin.Platform.getCurrentSync();return(t||c.applySnapshot.bind(c))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:r})}(a,(e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}})))}async createWindow(t,a){let n=Rt(t);const o=await this.getThemes();n=((e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=Mt({},t.defaultWindowOptions,n,Ut),n.layout=Mt(n.layout,Et),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=(e=>{const t=e;return t.workspacePlatform||(t.workspacePlatform={}),t.workspacePlatform._internalDeferShowEnabled=!0,t.workspacePlatform._internalAutoShow=t.workspacePlatform?._internalAutoShow||void 0===t.autoShow||t.autoShow,t.autoShow=!1,t})(n)}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=Gt(n.workspacePlatform.pages,t?.defaultPageOptions)),n})(n,e,o[0]),n=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(n);return(e=>async(t,a)=>{const n=await e(t,a);return t?.workspacePlatform?._internalDeferShowEnabled?(await n.addListener(L.ShowRequested,(()=>{})),n):n})(((e,t)=>super.createWindow(e,t)))(n,a)}async createView(t,a){return t.opts=Ft(t.opts,e?.defaultViewOptions),t.opts=await Lt(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await Ft(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await Lt(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return He.apply(this,e)}async getSavedPages(...e){return $e.apply(this,e)}async createSavedPage(...e){return qe.apply(this,e)}async deleteSavedPage(...e){return je.apply(this,e)}async updateSavedPage(...e){return Qe.apply(this,e)}async attachPagesToWindow(t){t.pages=Gt(t.pages,e?.defaultPageOptions),await ye(t)}async openGlobalContextMenuInternal(...e){return Ct.apply(this,e)}async openGlobalContextMenu(...e){return Wt.apply(this,e)}async openViewTabContextMenuInternal(...e){return It.apply(this,e)}async openViewTabContextMenu(...e){return Wt.apply(this,e)}async openPageTabContextMenuInternal(...e){return Tt.apply(this,e)}async openPageTabContextMenu(...e){return Wt.apply(this,e)}}return"function"==typeof e?.overrideCallback?e.overrideCallback(a):new a};async function qt(){Ve(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",q)}()}let jt;const Qt=async e=>{const t=I.split(".").map((e=>parseInt(e))),a=await(async e=>new Promise((async t=>{const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(t),n=e?.theme;var o;if(n&&((o=n).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),Nt=o),e?.customActions&&(Oe=e?.customActions),a){return function(e){if(!y)throw new Error("Cannot be used outside an OpenFin env.");jt||(fin.Platform.getCurrentSync().once("platform-api-ready",(()=>qt())),jt=fin.Platform.init({overrideCallback:$t(e),interopOverride:e?.interopOverride}));return jt}(e?.browser)}throw new Error(`Runtime version is not supported.  ${t[0]}.${t[1]}.${t[2]}.* is required`)};module.exports=c})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>Ze.Pt,CLIFilterOptionType:()=>Ze.el,CLITemplate:()=>Ze.yW,deregister:()=>Qe,hide:()=>et,register:()=>ze,show:()=>Ye});var r={};n.r(r),n.d(r,{subscribe:()=>re});var o={};n.r(o),n.d(o,{create:()=>qe});var i=n(7405);const s="home";var a;!function(e){e.Commands="home-commands"}(a||(a={}));var c,d=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(c||(c={}));const u="all",f="0",l="5",p="6",g=()=>{};function w(e,t){return e?`${e}-${t}`:t}function h(e){return`__search-${e}-topic__`}const y=new Map;function v(e,t){y.has(e)||y.set(e,new Set),y.get(e).add(t)}function m(e,t){const n=y.get(e);n&&n.delete(t)}const S=new Map;function C(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function P(e,t){const n=S.get(e);n&&n.delete(t)}const R=new Map;async function b(e,t){R.has(e)||R.set(e,new Map),R.get(e).set(t.id,t);const n=y.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function L(e,t){const n=R.get(e);if(!n)return;n.delete(t);const r=S.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function T(e){return R.get(e)?[...R.get(e).values()]:[]}function I(e){const t=R.get(e);t&&t.clear()}function M(e,t){const n=R.get(e);return n?n.get(t):null}function k(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function B(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function O(e){const t={};let n=[];let r=[];let o=c.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=g;const i={};return t.res=i,i.close=()=>{o!==c.Close&&(o=c.Close,t.onChange())},i.open=()=>{o!==c.Open&&(o=c.Open,t.onChange())},i.respond=n=>{const r=B(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function x(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const A="deregistered or does not exist",E=new Error(`provider ${A}`),F=new Error("provider with name already exists"),_=new Error("bad payload"),$=new Error("subscription rejected"),q=new Error(`channel ${A}`),G=new Map;function N(e){const t=H(e);if(t)return t;throw q}function H(e){const t=G.get(e);if(t)return t}function U(e,t){G.set(e,t)}const V=new Map;function K(e){V.has(e)||V.set(e,new Map);const t=V.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await N(e)).dispatch(f,t)}function j({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=_;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=E;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=O(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function J(e,t,n){const r=n||await N(e),o=D(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await b(e,{identity:o,...t})}async function Z(e,t){const n=await N(e);return await n.dispatch("3",t),L(e,t)}async function z(e,t,n,r){const o=k(n,D(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await N(e)).dispatch(l,s)}async function Q(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await N(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await N(e)).dispatch(p,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function Y(e){return(await N(e)).dispatch("4",null)}async function ee(e){const t=await N(e);var n;n=e,G.delete(n),I(e),await t.disconnect()}function te(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!H(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);U(t,(async e=>{const{namespacedTopic:t}=e,n=await ne(e);for(const e of T(t))await J(t,e,n);return n})(e))}}async function ne(e){const{namespacedTopic:t}=e,n=h(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(f,j(e)),r.register(p,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(te(e)),r}async function re(e){const t=("string"==typeof e?e:e?.topic)||u,n=("string"==typeof e?null:e?.uuid)||x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=H(r);return i||(i=ne(o),U(r,i),await i),{getAllProviders:Y.bind(null,r),register:J.bind(null,r),search:Q.bind(null,r),deregister:Z.bind(null,r),dispatch:z.bind(null,r),disconnect:ee.bind(null,r)}}const oe=new Map;function ie(e){const t=se(e);if(t)return t;throw q}function se(e){const t=oe.get(e);if(t)return t}const ae=new Map;function ce(e,t){ae.has(e)||ae.set(e,new Set),ae.get(e).add(t)}function de(e,t){const n=ae.get(e);n&&n.delete(t)}var ue=n(5316);function fe(e){return[...T(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function le(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=D();await b(e,{identity:n,...t})}function pe(e,t){L(e,t)}async function ge(e,t,n,r){const o=M(e,t);if(!o)throw E;const{onResultDispatch:i}=o;if(!i)return;return i(k(n,D(),r))}async function*we(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=O(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=B(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...T(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,d=ue.D.Fetching;const u=e=>{d=e,n.setState(d)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(ue.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===c.Open||d===ue.D.Fetching&&a===c.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=B(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(ue.D.Complete),o}let he=0;function ye({namespacedTopic:e,topic:t},n){he+=1;const r=W(t,he.toString(),n),o=we(e,r.req,{setState:e=>{o.state=e}});return o.id=he.toString(),o.close=r.close,o.state=ue.D.Fetching,o}const ve=new Map;function me(e,t){return`${e}:${t}`}function Se(e){return async(t,...n)=>{if(!t)return{error:_.message};let r;if(t.id)r=me(e.namespacedTopic,t.id);else{const n=ye(e,t);r=me(e.namespacedTopic,n.id),t.id=n.id,ve.set(r,{generator:n})}const o=ve.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ve.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Ce(e,t,n){return ie(e).dispatch(t,p,{id:n})}function Pe(e){return t=>function(e,t){const n=me(e,t),r=ve.get(n);r&&r.generator.close()}(e,t.id)}async function Re(e,t,{id:n,query:r,context:o,targets:i}){const s=ie(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,f,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function Le(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Te=new Map;function Ie(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Le.bind(null,e,t.identity),r=Ce.bind(null,e,t.identity),o=Re.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{r(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const d=Ie(e,t.id,i.id),u=()=>{Te.delete(d),s.close()};i.onClose(u),Te.set(d,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===c.Open&&s.open(),e.status===c.Close&&u()}));const f=await o(i);return f.status===c.Open&&s.open(),f.status!==c.Close&&f.status!==c.Initial||u(),f}}function ke(e,t){return async n=>{const r=ie(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,l,o)}}const Be=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function We(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw F;t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Be.has(n)||Be.set(n,[]),Be.get(n).push(t.id),await b(e,{...t,onUserInput:Me(e,t),onResultDispatch:ke(e,t)})}(e,t)}}function De(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=Oe(e,n.identity),o=Be.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),L(e,t))}}(e,t)}}const xe=new Map;function Ae(e,t){xe.has(e)||xe.set(e,new Set),xe.get(e).add(t)}function Ee(e,t){const n=xe.get(e);n&&n.delete(t)}function Fe(e){return async t=>{!function(e,t){const n=Oe(e,t),r=Be.get(n);if(r){for(const t of r)L(e,t);Be.delete(n)}}(e,t);const n=xe.get(e);n&&n.forEach((e=>e(t)))}}async function _e(e){const{namespacedTopic:t}=e,n=h(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ae.get(e);if(n)for(const e of n)if(!await e(t))throw $}}(e)),r.onDisconnection(Fe(t)),r.register(p,Pe(t)),r.register(f,function(e){return t=>{const n=Ie(e,t.providerId,t.id),r=Te.get(n);r&&r(t)}}(t)),r.register("2",We(t)),r.register("3",De(t)),r.register("4",function(e){return async()=>fe(e)}(t)),r.register("1",Se(e)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw E;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function $e(e){const t=ie(e);var n;n=e,oe.delete(n),await t.destroy(),I(e)}async function qe(e){const t=("string"==typeof e?e:e?.topic)||u,n=x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=se(r);i||(i=await _e(o),function(e,t){oe.set(e,t)}(r,i));const s=de.bind(null,r),a=Ee.bind(null,r),c=m.bind(null,r),d=P.bind(null,r);return{getAllProviders:fe.bind(null,r),search:ye.bind(null,o),register:le.bind(null,r),deregister:pe.bind(null,r),onSubscription:ce.bind(null,r),onDisconnect:Ae.bind(null,r),onRegister:v.bind(null,r),onDeregister:C.bind(null,r),dispatch:ge.bind(null,o),disconnect:$e.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ge}=o,{subscribe:Ne}=r,He={create:Ge,subscribe:Ne,defaultTopic:"all"},Ue=()=>{const e=window;e.search=He,e.fin&&(e.fin.Search=He)},Ve=e=>{const t=()=>{Ue(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ue();const e="load",t=Ve(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=Ve(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await Ne({topic:e,uuid:d.q9.Workspace}))}(s)}let je;async function Je(e){return await async function(){return je||(je=Xe()),je}(),Ke.get(e)}var Ze=n(3758);const ze=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,i.aB)();return(await Je(s)).register(e)},Qe=async e=>{await(0,i.aB)();return(await Je(s)).deregister(e)};async function Ye(){return(await(0,i.Xl)()).dispatch(i.Ml.ShowHome,void 0)}async function et(){return(await(0,i.Xl)()).dispatch(i.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>o.L,StorefrontTemplate:()=>o.T,deregister:()=>u,hide:()=>f,register:()=>d,show:()=>l});var r=n(7405);n(7564);var o=n(6114);let i;const s=new Map,a=e=>{if(!s.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return s.get(e)},c=async e=>{const t=await(0,r.Xl)();if(s.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return s.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>a(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>a(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>a(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>a(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>a(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},d=e=>(i=c(e),i),u=async e=>{await i,s.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},f=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},l=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/6.3.6/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e;l("https://cdn.openfin.co/workspace/6.3.6"),l("https://cdn.openfin.co/workspace/6.3.6"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL)},121:(e,t,n)=>{n.d(t,{iW:()=>c,JV:()=>d});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}s.oC,s.AB;r.Home,i.q9.Workspace,r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace;const c={name:i.q9.Workspace,uuid:i.q9.Workspace};const d=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getApps": () => (/* binding */ getApps),
/* harmony export */   "experoApp": () => (/* binding */ experoApp),
/* harmony export */   "notificationStudio": () => (/* binding */ notificationStudio),
/* harmony export */   "processManager": () => (/* binding */ processManager),
/* harmony export */   "developerContent": () => (/* binding */ developerContent)
/* harmony export */ });
async function getApps() {
    return [experoApp, notificationStudio, processManager, developerContent];
}
const experoApp = {
    appId: "expero-company-news",
    title: "Options UI",
    manifest: "https://openfin-iex.experolabs.com/openfin/manifests/company-news.json",
    manifestType: "view",
    icons: [
        {
            src: "https://openfin-iex.experolabs.com/favicon.ico"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "Expero",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/expero-news-view.png"
        }],
    tags: ["expero", "view", "interop"]
};
const notificationStudio = {
    appId: "notifications-generator",
    title: "OpenFin Notifications Studio",
    manifestType: "manifest",
    description: "Notifications Studio: This is OpenFin's tool for demonstrating the power of our Notification Center. Use it to create local notifications or use some of the examples shown in our Catalog. Experiment with our features and see the power that OpenFin Notification Center can bring to your applications.",
    manifest: "https://cdn.openfin.co/studio/notification/app.json",
    icons: [
        { src: "https://cdn.openfin.co/demos/notifications/generator/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-notification-studio.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const processManager = {
    appId: "openfin-process-manager",
    title: "OpenFin Process Manager",
    manifestType: "manifest",
    description: "Process Manager: This is OpenFin's tool for helping developers build OpenFin Applications. It lets you see the OpenFin applications that are running, the performance of the applications (memory and cpu) and easy access to the dev tools for the Windows of your application.",
    manifest: "https://cdn.openfin.co/process-manager/app.json",
    icons: [
        { src: "https://cdn.openfin.co/process-manager/img/proc-mgr-icon.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-process-manager.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const developerContent = {
    appId: "openfin-developer-page",
    title: "Options UI",
    manifestType: "snapshot",
    description: "Shows a collection of OpenFin developer pages and provides an example of how you can present a pre-built page as a launch target in OpenFin Home. This entry has a manifest type of 'snapshot'.",
    manifest: "http://localhost:8080/snapshot.json",
    icons: [
        { src: "http://localhost:8080/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-page-docs.png"
        }],
    tags: ["page"]
};


/***/ }),

/***/ "./client/src/home.ts":
/*!****************************!*\
  !*** ./client/src/home.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "show": () => (/* binding */ show),
/* harmony export */   "hide": () => (/* binding */ hide)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");



const providerId = "register-with-home-basic";
async function getResults(query) {
    let apps = await (0,_apps__WEBPACK_IMPORTED_MODULE_2__.getApps)();
    if (Array.isArray(apps)) {
        let initialResults = [];
        for (let i = 0; i < apps.length; i++) {
            let entry = {
                key: apps[i].appId,
                title: apps[i].title,
                data: apps[i],
                actions: [],
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain
            };
            let action = { name: "Launch View", hotkey: "enter" };
            if (apps[i].manifestType === "view") {
                entry.label = "View";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "snapshot") {
                entry.label = "Snapshot";
                action.name = "Launch Snapshot";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "manifest") {
                entry.label = "App";
                action.name = "Launch App";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "external") {
                action.name = "Launch Native App";
                entry.actions = [action];
                entry.label = "Native App";
            }
            if (Array.isArray(apps[i].icons) && apps[i].icons.length > 0) {
                entry.icon = apps[i].icons[0].src;
            }
            if (apps[i].description !== undefined) {
                entry.description = apps[i].description;
                entry.shortDescription = apps[i].description;
                entry.template = _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.SimpleText;
                entry.templateContent = apps[i].description;
            }
            initialResults.push(entry);
        }
        let finalResults;
        if (query === undefined || query === null || query.length === 0) {
            finalResults = initialResults;
        }
        else {
            finalResults = initialResults.filter(entry => {
                let targetValue = entry.title;
                if (targetValue !== undefined && targetValue !== null && typeof targetValue === "string") {
                    return targetValue.toLowerCase().indexOf(query) > -1;
                }
                return false;
            });
        }
        let response = {
            results: finalResults
        };
        return response;
    }
    else {
        return {
            results: []
        };
    }
}
async function register() {
    console.log("Initialising home.");
    const queryMinLength = 3;
    const onUserInput = async (request, response) => {
        let query = request.query.toLowerCase();
        if (query.indexOf("/") === 0) {
            return { results: [] };
        }
        if (query.length < queryMinLength) {
            return getResults();
        }
        return getResults(query);
    };
    const onSelection = async (result) => {
        if (result.data !== undefined) {
            let platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            await platform.launchApp({ app: result.data });
        }
        else {
            console.warn("Unable to execute result without data being passed");
        }
    };
    const cliProvider = {
        title: "Basic Workspace Platform",
        id: providerId,
        icon: "http://localhost:8080/favicon.ico",
        onUserInput: onUserInput,
        onResultDispatch: onSelection,
    };
    console.log("Home configured.");
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.register(cliProvider);
}
async function deregister() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.deregister(providerId);
}
async function show() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.show();
}
async function hide() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.hide();
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home */ "./client/src/home.ts");


async function init() {
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser: {}
    });
    let registerHome = document.getElementById("register");
    let deregisterHome = document.getElementById("deregister");
    let showHome = document.getElementById("show");
    let hideHome = document.getElementById("hide");
    registerHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.register)();
        showHome.style.display = "unset";
        hideHome.style.display = "unset";
        deregisterHome.style.display = "unset";
        registerHome.style.display = "none";
    };
    deregisterHome.onclick = async () => {
        showHome.style.display = "none";
        hideHome.style.display = "none";
        deregisterHome.style.display = "none";
        registerHome.style.display = "unset";
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.deregister)();
    };
    showHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.show)();
    };
    hideHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.hide)();
    };
}
window.addEventListener('DOMContentLoaded', async () => {
    await init();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ2pCLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUNqQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDakMsY0FBYyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTztRQUN0QyxZQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0lBRUYsY0FBYyxDQUFDLE9BQU8sR0FBRyxLQUFLLElBQUcsRUFBRTtRQUNqQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDaEMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ2hDLGNBQWMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07UUFDckMsWUFBWSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3JDLE1BQU0saURBQVUsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxRQUFRLENBQUMsT0FBTyxHQUFHLEtBQUssSUFBRyxFQUFFO1FBQzNCLE1BQU0sMkNBQUksRUFBRSxDQUFDO0lBQ2YsQ0FBQyxDQUFDO0lBRUYsUUFBUSxDQUFDLE9BQU8sR0FBRyxLQUFLLElBQUcsRUFBRTtRQUMzQixNQUFNLDJDQUFJLEVBQUUsQ0FBQztJQUNmLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDckQsTUFBTSxJQUFJLEVBQUUsQ0FBQztBQUNmLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy8uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy8uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy8uL2NsaWVudC9zcmMvYXBwcy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljLy4vY2xpZW50L3NyYy9ob21lLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvLi9jbGllbnQvc3JjL3Byb3ZpZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlLHQsYSxuLG8saSxyLHM9e2Q6KGUsdCk9Pntmb3IodmFyIGEgaW4gdClzLm8odCxhKSYmIXMubyhlLGEpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxhLHtlbnVtZXJhYmxlOiEwLGdldDp0W2FdfSl9LG86KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLHI6ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9fSxjPXt9O3MucihjKSxzLmQoYyx7QXBwTWFuaWZlc3RUeXBlOigpPT5pLEJyb3dzZXJCdXR0b25UeXBlOigpPT51LEN1c3RvbUFjdGlvbkNhbGxlclR5cGU6KCk9PmcsR2xvYmFsQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5wLFBhZ2VUYWJDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PncsVmlld1RhYk1lbnVPcHRpb25UeXBlOigpPT5sLGdldEN1cnJlbnRTeW5jOigpPT53dCxpbml0OigpPT5RdCx3cmFwU3luYzooKT0+cHR9KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KGV8fChlPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KHR8fCh0PXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5NdWx0aVNlbGVjdD1cIk11bHRpU2VsZWN0XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0ocnx8KHI9e30pKTt2YXIgZCxwLHcsbCx1LGcsaDshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KGR8fChkPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5DbG9zZVdpbmRvdz1cIkNsb3NlV2luZG93XCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5RdWl0PVwiUXVpdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZS5DbG9zZT1cIkNsb3NlXCIsZS5EdXBsaWNhdGU9XCJEdXBsaWNhdGVcIixlLlJlbmFtZT1cIlJlbmFtZVwiLGUuU2F2ZT1cIlNhdmVcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh3fHwodz17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkNvbG9yTGlua2luZz1cIkNvbG9yTGlua2luZ1wiLGUuUHJlc2V0TGF5b3V0cz1cIlByZXNldExheW91dHNcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLk1pbmltaXNlPVwiTWluaW1pc2VcIixlLk1heGltaXNlPVwiTWF4aW1pc2VcIixlLkNsb3NlPVwiQ2xvc2VcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuQVBJPVwiQVBJXCJ9KGd8fChnPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NhbD1cImxvY2FsXCIsZS5EZXY9XCJkZXZcIixlLlN0YWdpbmc9XCJzdGFnaW5nXCIsZS5Qcm9kPVwicHJvZFwifShofHwoaD17fSkpO2NvbnN0IHk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbixmPShcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8cHJvY2Vzcy5lbnY/LkpFU1RfV09SS0VSX0lELFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLG09ZiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixQPWY/d2luZG93Lm9yaWdpbjpoLkxvY2FsLHY9eSYmZmluLm1lLnV1aWQsUz15JiZmaW4ubWUubmFtZSxiPXkmJmZpbi5tZS5lbnRpdHlUeXBlLEM9KGguTG9jYWwsaC5EZXYsaC5TdGFnaW5nLGguUHJvZCxlPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOlArZSksVz0oQyhcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzYuMy42XCIpLEMoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNlwiKSksST0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmQyhXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZDKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiMjMuOTYuNjguM1wiKTt2YXIgVDshZnVuY3Rpb24oZSl7ZS5MYXN0TGF1bmNoZWRXb3Jrc3BhY2VJZD1cImFjdGl2ZVdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCJ9KFR8fChUPXt9KSk7Y29uc3Qgaz1UO3ZhciBBLE0sVjshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0oQXx8KEE9e30pKSxmdW5jdGlvbihlKXtlLlJ1blJlcXVlc3RlZD1cInJ1bi1yZXF1ZXN0ZWRcIixlLldpbmRvd09wdGlvbnNDaGFuZ2VkPVwid2luZG93LW9wdGlvbnMtY2hhbmdlZFwiLGUuV2luZG93Q2xvc2VkPVwid2luZG93LWNsb3NlZFwiLGUuV2luZG93Q3JlYXRlZD1cIndpbmRvdy1jcmVhdGVkXCJ9KE18fChNPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifShWfHwoVj17fSkpO2NvbnN0IE89e3V1aWQ6dixuYW1lOnZ9LHg9KEEuV29ya3NwYWNlLEEuV29ya3NwYWNlLGU9PntpZigheSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBcHBsaWNhdGlvbiBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKX0pO3ZhciBGLEw7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0oRnx8KEY9e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShMfHwoTD17fSkpO2Z1bmN0aW9uIEQoZSl7aWYoIXkpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgUj17bmFtZTpTLHV1aWQ6dn07ZnVuY3Rpb24gVSgpe3JldHVybiBEKFIpfUYuSG9tZSxBLldvcmtzcGFjZSxGLkRvY2ssQS5Xb3Jrc3BhY2U7Y29uc3QgRT17bmFtZTpGLlN0b3JlZnJvbnQsdXVpZDpBLldvcmtzcGFjZX07QS5Xb3Jrc3BhY2UsQS5Xb3Jrc3BhY2U7YXN5bmMgZnVuY3Rpb24gRyhlKXtjb25zdCB0PUQoZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5icmluZ1RvRnJvbnQoKSxhd2FpdCB0LmZvY3VzKCl9Y29uc3QgQj1lPT5lLnN0YXJ0c1dpdGgoRi5Ccm93c2VyV2luZG93KTthc3luYyBmdW5jdGlvbiBfKCl7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PkIoZS5pZGVudGl0eS5uYW1lKSkpfWNvbnN0IE49ZT0+RChlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpLEg9KCk9Pk4oRSk7YXN5bmMgZnVuY3Rpb24gJCgpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oay5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3cpLHQ9SlNPTi5wYXJzZShlKTtpZihhd2FpdCBOKHQpKXJldHVybiB0fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGdldCBsYXN0IGZvY3VzZWQgYnJvd3NlciB3aW5kb3c6ICR7ZX1gKX19ZnVuY3Rpb24gcShlPWZpbi5tZS5pZGVudGl0eSl7QihlLm5hbWUpJiZmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO2xvY2FsU3RvcmFnZS5zZXRJdGVtKGsuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHQpfWNhdGNoKGUpe319KGUpfWNvbnN0IGo9KGUsdD0wKT0+e2xldCBhLG4sbz0hMTtjb25zdCBpPWFzeW5jIG49Pntjb25zdCByPWF3YWl0IGUoLi4ubik7aWYobyl7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSx0KSkpO2NvbnN0IGU9YTtyZXR1cm4gYT12b2lkIDAsbz0hMSxpKGUpfXJldHVybiByfTtyZXR1cm4oLi4uZSk9PihuPyhvPSEwLGE9ZSk6bj1pKGUpLnRoZW4oKGU9PihuPXZvaWQgMCxlKSkpLG4pfTt2YXIgUTshZnVuY3Rpb24oZSl7ZS5UYWJDcmVhdGVkPVwidGFiLWNyZWF0ZWRcIixlLkNvbnRhaW5lckNyZWF0ZWQ9XCJjb250YWluZXItY3JlYXRlZFwiLGUuQ29udGFpbmVyUmVzaXplZD1cImNvbnRhaW5lci1yZXNpemVkXCJ9KFF8fChRPXt9KSk7Y29uc3QgSz1lPT57Y29uc3QgdD1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKChlPT57aWYoXCJjb21wb25lbnRcIj09PWUudHlwZSlyZXR1cm4gdC5wdXNoKGUuY29tcG9uZW50U3RhdGUpO2NvbnN0IGE9SyhlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fSx6PWFzeW5jKGUsdCxhPVIpPT57bGV0IG47aWYoQihhLm5hbWUpKXtuPShhd2FpdCBEKGEpLmdldE9wdGlvbnMoKSkubGF5b3V0fHx7c2V0dGluZ3M6e319fXJldHVybnsuLi5uLGNvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3RpdGxlOmUsdXJsOnR9fV19XX19O25ldyBNYXA7Y29uc3QgSj1mJiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBYKGUpe2xldCB0O3JldHVybigpPT57aWYoIXkpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgSjtjb25zdCBhPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlKTtyZXR1cm4gYS5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9Pnt0PXZvaWQgMH0pKSxhfSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKGE9Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHthfWApfSkpKSx0fX1jb25zdCBZPWU9PmBfX2Jyb3dzZXJfd2luZG93X18tJHtlLnV1aWR9LSR7ZS5uYW1lfWAsWj1uZXcgTWFwLGVlPWU9Pntjb25zdCB0PVkoZSk7cmV0dXJuIFouaGFzKHQpfHxaLnNldCh0LFgodCkpLFouZ2V0KHQpKCl9O3ZhciB0ZSxhZSxuZTshZnVuY3Rpb24oZSl7ZS5DbG9zZUJyb3dzZXJXaW5kb3c9XCJjbG9zZS1icm93c2VyLXdpbmRvd1wiLGUuUXVpdFBsYXRmb3JtPVwicXVpdC1wbGF0Zm9ybVwiLGUuQ2xvc2VQYWdlPVwiY2xvc2UtcGFnZVwiLGUuQWRkVG9DaGFubmVsPVwiYWRkLXRvLWNoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwicmVtb3ZlLWZyb20tY2hhbm5lbFwiLGUuU2F2ZVBhZ2U9XCJzYXZlLXBhZ2VcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwifSh0ZXx8KHRlPXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRQYWdlcz1cImdldC1wYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cImdldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoLXBhZ2VzLWZyb20td2luZG93XCIsZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93PVwic2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLlJlbmFtZVBhZ2U9XCJyZW5hbWUtcGFnZVwiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlci1wYWdlcy1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zPVwidXBkYXRlLXBhZ2VzLXdpbmRvdy1vcHRpb25zXCIsZS5Jc0RldGFjaGluZ1BhZ2VzPVwiaXMtZGV0YWNoaW5nLXBhZ2VzXCIsZS5Jc0FjdGl2ZVBhZ2VDaGFuZ2luZz1cImlzLWFjdGl2ZS1wYWdlLWNoYW5naW5nXCJ9KGFlfHwoYWU9e30pKSxmdW5jdGlvbihlKXtlLkF0dGFjaGVkUGFnZXNUb1dpbmRvdz1cImF0dGFjaGVkLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoZWRQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2hlZC1wYWdlcy1mcm9tLXdpbmRvd1wifShuZXx8KG5lPXt9KSk7bmV3IE1hcDtjb25zdCBvZT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlZShlKTtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChhZS5HZXRQYWdlcyl9LGllPWFzeW5jIGU9Pihhd2FpdCBlZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goYWUuVXBkYXRlUGFnZUZvcldpbmRvdyxlKTt2YXIgcmU7IWZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5TaGFyZVBhZ2U9XCJzaGFyZVBhZ2VcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5HZXRBbGxBdHRhY2hlZFBhZ2VzPVwiZ2V0QWxsQXR0YWNoZWRQYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUlkRm9yV2luZG93PVwiZ2V0QWN0aXZlUGFnZUlkRm9yV2luZG93XCIsZS5HZXRQYWdlc0ZvcldpbmRvdz1cImdldFBhZ2VzRm9yV2luZG93XCIsZS5HZXRQYWdlRm9yV2luZG93PVwiZ2V0UGFnZUZvcldpbmRvd1wiLGUuR2V0U2F2ZWRQYWdlTWV0YWRhdGE9XCJnZXRTYXZlZFBhZ2VNZXRhZGF0YVwiLGUuR2V0VW5pcXVlUGFnZVRpdGxlPVwiZ2V0VW5pcXVlUGFnZVRpdGxlXCIsZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJnZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIn0ocmV8fChyZT17fSkpO2NvbnN0IHNlPWFzeW5jIGU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKSxhPWF3YWl0IHQuZ2V0Q2xpZW50KCksbj1cIlRhcmdldCBpcyBub3QgYSBXb3Jrc3BhY2UgUGxhdGZvcm0uIFRhcmdldCBtdXN0IGNhbGwgV29ya3NwYWNlUGxhdGZvcm0uaW5pdFwiO3RyeXtpZighMD09PWF3YWl0IGEuZGlzcGF0Y2goXCJpc1dvcmtzcGFjZVBsYXRmb3JtXCIpKXJldHVybiBhO3Rocm93IG5ldyBFcnJvcihuKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3Iobil9fSxjZT1hc3luYygpPT57Y29uc3QgZT1hd2FpdCBfKCk7cmV0dXJuKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKChhc3luYyh7aWRlbnRpdHk6ZX0pPT5vZShlKSkpKSkucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodCkpLFtdKX0sZGU9YXN5bmMoKT0+KGF3YWl0IHNlKFIpKS5kaXNwYXRjaChyZS5HZXRTYXZlZFBhZ2VzLHZvaWQgMCkscGU9YXN5bmMgZT0+KGF3YWl0IHNlKFIpKS5kaXNwYXRjaChyZS5HZXRTYXZlZFBhZ2UsZSksd2U9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGNlKCkpLmZpbmQoKHQ9PnQucGFnZUlkPT09ZSkpKShlKTtyZXR1cm4hYXx8YS50aXRsZT09PXQudGl0bGUmJmU9PT10LnBhZ2VJZHx8YXdhaXQgaWUoe2lkZW50aXR5OmEucGFyZW50SWRlbnRpdHkscGFnZUlkOmUscGFnZTp7cGFnZUlkOnQucGFnZUlkLHRpdGxlOnQudGl0bGV9fSksYX0sbGU9YXN5bmMoe3BhZ2U6ZX0pPT57YXdhaXQgd2UoZS5wYWdlSWQsZSksYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKFIpKS5kaXNwYXRjaChyZS5DcmVhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlOmV9KX0sdWU9YXN5bmMgZT0+e2F3YWl0IHBlKGUpJiZhd2FpdChhc3luYyBlPT4oYXdhaXQgc2UoUikpLmRpc3BhdGNoKHJlLkRlbGV0ZVNhdmVkUGFnZSxlKSkoZSl9LGdlPWFzeW5jKHtwYWdlSWQ6ZSxwYWdlOnR9KT0+e2F3YWl0IHdlKGUsdCk7cmV0dXJuIGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzZShSKSkuZGlzcGF0Y2gocmUuVXBkYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZUlkOmUscGFnZTp0fSl9LGhlPWFzeW5jIGU9PmF3YWl0IHBlKGUucGFnZUlkKT9nZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6ZX0pOmxlKHtwYWdlOmV9KSx5ZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGVlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChhZS5BdHRhY2hQYWdlc1RvV2luZG93LGUpKShlKX0sZmU9YXN5bmMgZT0+e2F3YWl0IGllKGUpfSxtZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGVlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChhZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3csZSkpKGUpfSxQZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGVlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChhZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93LGUpKShlKX0sdmU9ZT0+b2UoZSksU2U9YXN5bmMoe2lkZW50aXR5OmUscGFnZUlkOnR9KT0+KGF3YWl0IHZlKGUpKS5maW5kKChlPT5lLnBhZ2VJZD09PXQpKSxiZT1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IGVlKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChhZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csZSkpKGUpfSxDZT0oZSx0KT0+IXQuZmluZCgodD0+dD09PWUpKSxXZT0oZSx0KT0+YCR7ZX0gKCR7dH0pYDthc3luYyBmdW5jdGlvbiBJZShlPVwiVW50aXRsZWQgUGFnZVwiKXtjb25zdFt0LGFdPWF3YWl0IFByb21pc2UuYWxsKFtkZSgpLGNlKCldKSxuPVsuLi50LC4uLmFdLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtpZighbi5maW5kKCh0PT50PT09ZSkpKXJldHVybiBlO2xldCBvPTE7Y29uc3QgaT1lLnJlcGxhY2UoLyBcXCguK1xcKSQvLFwiXCIpO2Zvcig7IUNlKFdlKGksbyksbik7KW8rPTE7cmV0dXJuIFdlKGksbyl9Y29uc3QgVGU9bmV3IE1hcCxrZT1lPT5gJHtlLnV1aWR9LSR7ZS5uYW1lfWA7Y29uc3QgQWU9aigoYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWF3YWl0IGNlKCksdD1uZXcgU2V0O2UuZm9yRWFjaCgoZT0+e0soZS5sYXlvdXQuY29udGVudCkuZm9yRWFjaCgoZT0+e2lmKGUubmFtZSl7Y29uc3QgYT1rZShlKTt0LmFkZChhKX19KSl9KSk7Y29uc3QgYT1VKCk7KGF3YWl0IGEuZ2V0Q3VycmVudFZpZXdzKCkpLmZvckVhY2goKCh7aWRlbnRpdHk6ZX0pPT57Y29uc3QgYT1rZShlKTtpZih0LmhhcyhhKXx8VGUuaGFzKGEpKXJldHVybjtjb25zdCBuPXNldFRpbWVvdXQoKCgpPT57ZmluLlZpZXcud3JhcFN5bmMoZSkuZGVzdHJveSgpLFRlLmRlbGV0ZShhKX0pLDVlMyk7VGUuc2V0KGEsbil9KSksVGUuZm9yRWFjaCgoKGUsYSk9Pnt0LmhhcyhhKSYmKGNsZWFyVGltZW91dChlKSxUZS5kZWxldGUoYSkpfSkpfSksMjUwMCksTWU9KHtuYW1lOmV9KT0+e0IoZSkmJkFlKCkuY2F0Y2goKCgpPT57fSkpfTtmdW5jdGlvbiBWZSgpe2NvbnN0IGU9eChPKTtlLmFkZExpc3RlbmVyKE0uV2luZG93T3B0aW9uc0NoYW5nZWQsQWUpLGUuYWRkTGlzdGVuZXIoTS5XaW5kb3dDbG9zZWQsTWUpLGUuYWRkTGlzdGVuZXIoTS5XaW5kb3dDcmVhdGVkLE1lKX1sZXQgT2U9e307Y29uc3QgeGU9KHthY3Rpb25JZDplLHBheWxvYWQ6dH0pPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgT2VbZV0pdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGNvbmZpZ3VyZWQgZnVuY3Rpb24gZm9yIHRoZSBhY3Rpb24gJyR7ZX0nYCk7cmV0dXJuIE9lW2VdKHQpfTtmdW5jdGlvbiBGZSgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrLk1hY2hpbmVOYW1lKX1sZXQgTGUsRGU7YXN5bmMgZnVuY3Rpb24gUmUoKXtyZXR1cm4gTGV8fChMZT1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxMZX1hc3luYyBmdW5jdGlvbiBVZShlKXtjb25zdCB0PWV8fGF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmdldFNuYXBzaG90KCk7aWYodC5zbmFwc2hvdERldGFpbHM/Lm1hY2hpbmVJZClyZXR1cm4gdDtjb25zdCBhPUZlKCk7cmV0dXJuey4uLnQsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtYWNoaW5lSWQ6YXdhaXQgUmUoKSxtYWNoaW5lTmFtZTphfX19ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxhKT0+e2Uub25jb21wbGV0ZT1lLm9uc3VjY2Vzcz0oKT0+dChlLnJlc3VsdCksZS5vbmFib3J0PWUub25lcnJvcj0oKT0+YShlLmVycm9yKX0pKX1mdW5jdGlvbiBHZShlLHQpe2NvbnN0IGE9aW5kZXhlZERCLm9wZW4oZSk7YS5vbnVwZ3JhZGVuZWVkZWQ9KCk9PmEucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKHQpO2NvbnN0IG49RWUoYSk7cmV0dXJuKGUsYSk9Pm4udGhlbigobj0+YShuLnRyYW5zYWN0aW9uKHQsZSkub2JqZWN0U3RvcmUodCkpKSl9ZnVuY3Rpb24gQmUoKXtyZXR1cm4gRGV8fChEZT1HZShcImtleXZhbC1zdG9yZVwiLFwia2V5dmFsXCIpKSxEZX1mdW5jdGlvbiBfZShlLHQpe3JldHVybiBlKFwicmVhZG9ubHlcIiwoZT0+KGUub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMucmVzdWx0JiYodCh0aGlzLnJlc3VsdCksdGhpcy5yZXN1bHQuY29udGludWUoKSl9LEVlKGUudHJhbnNhY3Rpb24pKSkpfWNvbnN0IE5lPW0mJkdlKFwib3BlbmZpbi1ob21lLXBhZ2VzXCIsXCJwYWdlc1wiKTthc3luYyBmdW5jdGlvbiBIZShlKXtjb25zdCB0PWF3YWl0IGZ1bmN0aW9uKGUsdD1CZSgpKXtyZXR1cm4gdChcInJlYWRvbmx5XCIsKHQ9PkVlKHQuZ2V0KGUpKSkpfShlLE5lKTtyZXR1cm4gdD8odC5wYWdlSWQ9ZS50b1N0cmluZygpLHQudGl0bGU9dC50aXRsZXx8dC5wYWdlSWQsdCk6bnVsbH1hc3luYyBmdW5jdGlvbiAkZShlKXtjb25zdCB0PWF3YWl0IGZ1bmN0aW9uKGU9QmUoKSl7Y29uc3QgdD1bXTtyZXR1cm4gX2UoZSwoZT0+dC5wdXNoKGUua2V5KSkpLnRoZW4oKCgpPT50KSl9KE5lKSxhPWF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5IZShlLnRvU3RyaW5nKCkpKSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT4oKGUsdD1cIlwiKT0+ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSkpKHQudGl0bGUsZSkpKTphfWFzeW5jIGZ1bmN0aW9uIHFlKHtwYWdlOmV9KXthd2FpdCBmdW5jdGlvbihlLHQsYT1CZSgpKXtyZXR1cm4gYShcInJlYWR3cml0ZVwiLChhPT4oYS5wdXQodCxlKSxFZShhLnRyYW5zYWN0aW9uKSkpKX0oZS5wYWdlSWQsZSxOZSl9YXN5bmMgZnVuY3Rpb24gamUoZSl7YXdhaXQgZnVuY3Rpb24oZSx0PUJlKCkpe3JldHVybiB0KFwicmVhZHdyaXRlXCIsKHQ9Pih0LmRlbGV0ZShlKSxFZSh0LnRyYW5zYWN0aW9uKSkpKX0oZSxOZSl9YXN5bmMgZnVuY3Rpb24gUWUoe3BhZ2VJZDplLHBhZ2U6dH0pe2lmKHZvaWQgMD09PWF3YWl0IEhlKGUpKXRocm93IG5ldyBFcnJvcihcInBhZ2Ugbm90IGZvdW5kXCIpO2F3YWl0IHFlKHtwYWdlOnR9KSxlIT09dC5wYWdlSWQmJmF3YWl0IGplKGUpfXZhciBLZSx6ZTshZnVuY3Rpb24oZSl7ZS5MYWJlbD1cIm5vcm1hbFwiLGUuU2VwYXJhdG9yPVwic2VwYXJhdG9yXCIsZS5TdWJtZW51PVwic3VibWVudVwiLGUuQ2hlY2tib3g9XCJjaGVja2JveFwifShLZXx8KEtlPXt9KSk7dmFyIEplPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBYZSgpe2lmKCF6ZSYmISh6ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY3J5cHRvJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1zQ3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSkpdGhyb3cgbmV3IEVycm9yKFwiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWRcIik7cmV0dXJuIHplKEplKX1jb25zdCBZZT0vXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7Y29uc3QgWmU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJlllLnRlc3QoZSl9O2Zvcih2YXIgZXQ9W10sdHQ9MDt0dDwyNTY7Kyt0dClldC5wdXNoKCh0dCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO2NvbnN0IGF0PWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGE9KGV0W2VbdCswXV0rZXRbZVt0KzFdXStldFtlW3QrMl1dK2V0W2VbdCszXV0rXCItXCIrZXRbZVt0KzRdXStldFtlW3QrNV1dK1wiLVwiK2V0W2VbdCs2XV0rZXRbZVt0KzddXStcIi1cIitldFtlW3QrOF1dK2V0W2VbdCs5XV0rXCItXCIrZXRbZVt0KzEwXV0rZXRbZVt0KzExXV0rZXRbZVt0KzEyXV0rZXRbZVt0KzEzXV0rZXRbZVt0KzE0XV0rZXRbZVt0KzE1XV0pLnRvTG93ZXJDYXNlKCk7aWYoIVplKGEpKXRocm93IFR5cGVFcnJvcihcIlN0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZFwiKTtyZXR1cm4gYX07Y29uc3QgbnQ9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuPShlPWV8fHt9KS5yYW5kb218fChlLnJuZ3x8WGUpKCk7aWYobls2XT0xNSZuWzZdfDY0LG5bOF09NjMmbls4XXwxMjgsdCl7YT1hfHwwO2Zvcih2YXIgbz0wO288MTY7KytvKXRbYStvXT1uW29dO3JldHVybiB0fXJldHVybiBhdChuKX07dmFyIG90OyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShvdHx8KG90PXt9KSk7WChcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIik7Y29uc3QgaXQ9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoYXN5bmMgZT0+KHsuLi5lLGxheW91dERldGFpbHM6e21hY2hpbmVJZDphd2FpdCBSZSgpLG1hY2hpbmVOYW1lOkZlKCl9fSkpKHQpO3JldHVybntwYWdlSWQ6bnQoKSx0aXRsZTplLGxheW91dDphLGlzUmVhZE9ubHk6ITEsaGFzVW5zYXZlZENoYW5nZXM6ITB9fSxydD1lPT4oe2lkZW50aXR5OmUsb3BlbmZpbldpbmRvdzpmaW4uV2luZG93LndyYXBTeW5jKGUpLGdldFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuR2V0UGFnZXNGb3JXaW5kb3csZSksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkdldFBhZ2VGb3JXaW5kb3cse2lkZW50aXR5OmUscGFnZUlkOnR9KSxhZGRQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3Q/LnRpdGxlfHwodC50aXRsZT1hd2FpdCBhLmRpc3BhdGNoKHJlLkdldFVuaXF1ZVBhZ2VUaXRsZSx2b2lkIDApKTtjb25zdCBuPShhd2FpdCBhLmRpc3BhdGNoKHJlLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10LnBhZ2VJZHx8ZS50aXRsZT09PXQudGl0bGUpKTtpZihuKXRocm93IG4ucGFnZUlkPT09dC5wYWdlSWQ/bmV3IEVycm9yKGBwYWdlIHdpdGggaWQgJHt0LnBhZ2VJZH0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7bi5wYXJlbnRJZGVudGl0eS5uYW1lfWApOm5ldyBFcnJvcihgcGFnZSB3aXRoIHRpdGxlICR7dC50aXRsZX0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7bi5wYXJlbnRJZGVudGl0eS5uYW1lfWApO2NvbnN0IG89e2lkZW50aXR5OmUscGFnZXM6W3RdfTtyZXR1cm4gYS5kaXNwYXRjaChyZS5BdHRhY2hQYWdlc1RvV2luZG93LG8pfSxyZW1vdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuRGV0YWNoUGFnZXNGcm9tV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZHM6W3RdfSksc2V0QWN0aXZlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLlNldEFjdGl2ZVBhZ2Use2lkZW50aXR5OmUscGFnZUlkOnR9KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChyZS5VcGRhdGVQYWdlRm9yV2luZG93LHQpfSxyZW9yZGVyUGFnZXM6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKHJlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdyx0KX0sX29wZW5HbG9iYWxDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBzZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gocmUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwsdCl9LHJlcGxhY2VUb29sYmFyT3B0aW9uczphc3luYyB0PT57Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3Rvb2xiYXJPcHRpb25zOnR9fSl9LHJlcGxhY2VXaW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6YXN5bmMgdD0+e2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6dH19KX0sX29wZW5WaWV3VGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKHJlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5QYWdlVGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKHJlLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX19KSxzdD1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJue3dyYXBTeW5jOmU9PnJ0KGUpLGNyZWF0ZVdpbmRvdzphc3luYyBlPT57Y29uc3QgYT1hd2FpdCB0LmNyZWF0ZVdpbmRvdyhlKTtyZXR1cm4gcnQoYS5pZGVudGl0eSl9LGdldEFsbEF0dGFjaGVkUGFnZXM6YXN5bmMoKT0+KGF3YWl0IHQuZ2V0Q2xpZW50KCkpLmRpc3BhdGNoKHJlLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSxnZXRBbGxXaW5kb3dzOmFzeW5jKCk9Pihhd2FpdCBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbHRlcigoZT0+ZS5pZGVudGl0eS5uYW1lLmluY2x1ZGVzKFwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvdy1cIikpKS5tYXAoKGU9PnJ0KGUuaWRlbnRpdHkpKSksZ2V0VW5pcXVlUGFnZVRpdGxlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuR2V0VW5pcXVlUGFnZVRpdGxlLHQpLGdldExhc3RGb2N1c2VkV2luZG93OmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHZvaWQgMCl9fSxjdD1lPT4oe2NyZWF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksdXBkYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5HZXRTYXZlZFBhZ2VzLHQpLHNhdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuU2F2ZVBhZ2UsdCl9KSxkdD1lPT4oe2dldFRoZW1lczphc3luYygpPT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkdldFRoZW1lcyx2b2lkIDApfSkscHQ9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybiBPYmplY3QuYXNzaWduKHQse2FwcGx5U25hcHNob3Q6YXN5bmMgdD0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYhdD8ud2luZG93cyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBicm93c2VyIHNuYXBzaG90XCIpO3JldHVybiBmaW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuYXBwbHlTbmFwc2hvdCh0KX0sZ2V0U25hcHNob3Q6KCk9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRTbmFwc2hvdCgpLnRoZW4oKGU9PmUpKSxsYXVuY2hBcHA6YXN5bmMgdD0+e3QudGFyZ2V0fHwodC50YXJnZXQ9e3V1aWQ6dixuYW1lOlMsZW50aXR5VHlwZTpifHxcInVua25vd25cIn0pO3JldHVybihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuTGF1bmNoQXBwLHQpfSxfaW52b2tlQ3VzdG9tQWN0aW9uOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IHNlKGUpLG89e2FjdGlvbklkOnQscGF5bG9hZDp7Li4uYSxjYWxsZXJUeXBlOmEuY2FsbGVyVHlwZXx8Zy5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChyZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sVGhlbWU6ZHQoZSksQnJvd3NlcjpzdChlKSxTdG9yYWdlOmN0KGUpfSl9LHd0PSgpPT5wdChmaW4ubWUuaWRlbnRpdHkpLGx0PWFzeW5jKGU9Uik9Pntjb25zdHt3b3Jrc3BhY2VQbGF0Zm9ybTp0fT1hd2FpdCBEKGUpLmdldE9wdGlvbnMoKTtyZXR1cm57bmV3UGFnZVVybDp0Py5uZXdQYWdlVXJsLG5ld1RhYlVybDp0Py5uZXdUYWJVcmx9fSx1dD1hc3luYyhlPVIpPT57Y29uc3QgdD1hd2FpdCB3dCgpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKFwiVW50aXRsZWQgUGFnZVwiKSxhPWF3YWl0KGFzeW5jKGU9Uik9Pntjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IGx0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7cmV0dXJuIHooXCJOZXcgVGFiXCIsdCxlKX0pKGUpO3JldHVybiBpdCh0LGEpfSxndD1be3R5cGU6S2UuTGFiZWwsbGFiZWw6XCJDbG9zZSBXaW5kb3dcIixkYXRhOnt0eXBlOnAuQ2xvc2VXaW5kb3d9fSx7dHlwZTpLZS5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiT3BlbiBTdG9yZWZyb250XCIsZGF0YTp7dHlwZTpwLk9wZW5TdG9yZWZyb250fX0se3R5cGU6S2UuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIlF1aXQgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTpwLlF1aXR9fV0saHQ9W3t0eXBlOktlLlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6S2UuTGFiZWwsbGFiZWw6XCJDbG9zZSBXaW5kb3dcIixkYXRhOnt0eXBlOnAuQ2xvc2VXaW5kb3d9fSx7dHlwZTpLZS5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiUXVpdFwiLGRhdGE6e3R5cGU6cC5RdWl0fX1dLHl0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEgoKSx7bmV3UGFnZVVybDphfT1hd2FpdCBsdChlKSxuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUQoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5kaXNhYmxlTXVsdGlwbGVQYWdlc30pKGUpLG89W107cmV0dXJuIGEmJihvLnB1c2goe3R5cGU6S2UuTGFiZWwsbGFiZWw6XCJOZXcgV2luZG93XCIsZGF0YTp7dHlwZTpwLk5ld1dpbmRvd319KSxufHxvLnB1c2goe3R5cGU6S2UuTGFiZWwsbGFiZWw6XCJOZXcgUGFnZVwiLGRhdGE6e3R5cGU6cC5OZXdQYWdlfX0pKSx0P1suLi5vLC4uLmd0XTpbLi4ubywuLi5odF19LGZ0PWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5LG49YXdhaXQgZWUoYSk7c3dpdGNoKGUudHlwZSl7Y2FzZSBwLk5ld1dpbmRvdzpjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IGx0KGEpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgZW1wdHkgd2luZG93IHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTt3dCgpLmNyZWF0ZVZpZXcoe3RhcmdldDp2b2lkIDAsdXJsOnR9KTticmVhaztjYXNlIHAuTmV3UGFnZTphd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCB1dChlKTthd2FpdCB3dCgpLkJyb3dzZXIud3JhcFN5bmMoZSkuYWRkUGFnZSh0KX0pKGEpO2JyZWFrO2Nhc2UgcC5DbG9zZVdpbmRvdzpuLmRpc3BhdGNoKHRlLkNsb3NlQnJvd3NlcldpbmRvdyk7YnJlYWs7Y2FzZSBwLlF1aXQ6bi5kaXNwYXRjaCh0ZS5RdWl0UGxhdGZvcm0pO2JyZWFrO2Nhc2UgcC5PcGVuU3RvcmVmcm9udDooYXN5bmMoKT0+e2F3YWl0IEgoKSYmRyhFKX0pKCk7YnJlYWs7Y2FzZSBwLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgdD17Y2FsbGVyVHlwZTpnLkdsb2JhbENvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTt3dCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsdCl9fX0sbXQ9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgZWUodC5pZGVudGl0eSk7c3dpdGNoKGUudHlwZSl7Y2FzZSB3LlNhdmU6Y2FzZSB3LlJlbmFtZTphLmRpc3BhdGNoKHRlLlNhdmVQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuRHVwbGljYXRlOmEuZGlzcGF0Y2godGUuRHVwbGljYXRlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LkNsb3NlOmEuZGlzcGF0Y2godGUuQ2xvc2VQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOmcuUGFnZVRhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07d3QoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfX19LFB0PWFzeW5jKGUsdCk9Pntjb25zdCBhPXQuc2VsZWN0ZWRWaWV3c1swXSxuPWZpbi5WaWV3LndyYXBTeW5jKGEpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0e25ld1RhYlVybDp0fT1hd2FpdCBsdChlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1RhYlVybCBzZXRcIik7cmV0dXJuey4uLnooXCJOZXcgVmlld1wiLHQpLHVybDp0LHRhcmdldDplfX0pKGUpO2F3YWl0IHd0KCkuY3JlYXRlVmlldyhvLGUsbi5pZGVudGl0eSl9LHZ0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGU9PlByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT5maW4uVmlldy53cmFwU3luYyhlKS5nZXRJbmZvKCkpKSkpKHQpLHtuZXdQYWdlVXJsOm4sbmV3VGFiVXJsOm99PWF3YWl0IGx0KGUpO2EuZm9yRWFjaCgoYXN5bmMgZT0+e2UudXJsIT09biYmZS51cmwhPT1vJiZhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihlLnVybCl9KSl9LFN0PShlLHQpPT57dC5mb3JFYWNoKChhc3luYyB0PT57Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KTthd2FpdChhc3luYyhlLHQpPT57Y29uc3R7dXJsOmF9PWF3YWl0IHQuZ2V0SW5mbygpLG49ey4uLmF3YWl0IHQuZ2V0T3B0aW9ucygpLHVybDphLHRhcmdldDplLG5hbWU6dm9pZCAwfTthd2FpdCB3dCgpLmNyZWF0ZVZpZXcobixlLHQuaWRlbnRpdHkpfSkoZSxhKX0pKX0sYnQ9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSBsLkNsb3NlVmlld3M6YXdhaXQoYXN5bmMoZSx0KT0+e2lmKChhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldEN1cnJlbnRWaWV3cygpKS5sZW5ndGghPT10Lmxlbmd0aCl0LmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PWZpbi5WaWV3LndyYXBTeW5jKGUpO2F3YWl0IHQuZGVzdHJveSgpfSkpO2Vsc2V7Y29uc3QgdD0oYXdhaXQgd3QoKS5Ccm93c2VyLndyYXBTeW5jKGUpLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTsoYXdhaXQgZWUoZSkpLmRpc3BhdGNoKHRlLkNsb3NlUGFnZSx0Py5wYWdlSWQpfX0pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGwuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcjphd2FpdCB2dChhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBsLlJlbG9hZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cy5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LnJlbG9hZCgpfSkpO2JyZWFrO2Nhc2UgbC5OZXdWaWV3OmF3YWl0IFB0KGEsdCk7YnJlYWs7Y2FzZSBsLkR1cGxpY2F0ZVZpZXdzOlN0KGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGwuQWRkVG9DaGFubmVsOihhc3luYyhlLHQsYSk9Pntjb25zdCBuPXtuZXdDaGFubmVsSWQ6dCxzZWxlY3RlZFZpZXdzOmF9Oyhhd2FpdCBlZShlKSkuZGlzcGF0Y2godGUuQWRkVG9DaGFubmVsLG4pfSkoYSxlLm9wdGlvbix0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgbC5SZW1vdmVGcm9tQ2hhbm5lbDooYXN5bmMoZSx0KT0+eyhhd2FpdCBlZShlKSkuZGlzcGF0Y2godGUuUmVtb3ZlRnJvbUNoYW5uZWwsdCl9KShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBsLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3Qgbj17Y2FsbGVyVHlwZTpnLlZpZXdUYWJDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLHNlbGVjdGVkVmlld3M6dC5zZWxlY3RlZFZpZXdzLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07d3QoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLG4pfX19O2FzeW5jIGZ1bmN0aW9uIEN0KGUsdCl7Y29uc3QgYT1hd2FpdCB5dChlLmlkZW50aXR5KSxuPXsuLi5lLHRlbXBsYXRlOmEsY2FsbGJhY2s6ZnR9O2F3YWl0IHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51KG4sdCl9Y29uc3QgV3Q9YXN5bmMoZSx0KT0+e2NvbnN0e3g6YSx5Om4saWRlbnRpdHk6byx0ZW1wbGF0ZTppLGNhbGxiYWNrOnJ9PWUse2RhdGE6c309YXdhaXQgZnVuY3Rpb24oZSx0KXtpZigheSl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7aWYoIXQmJiFmaW4ubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiB3aW5kb3cuXCIpO3JldHVybih0fHxmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkpLnNob3dQb3B1cE1lbnUoZSl9KHt4OmEseTpuLHRlbXBsYXRlOml9LGZpbi5XaW5kb3cud3JhcFN5bmMobykpO3IocyxlKX07YXN5bmMgZnVuY3Rpb24gSXQoZSx0KXtjb25zdCBhPXsuLi5lLGNhbGxiYWNrOmJ0fTthd2FpdCB0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUoYSx0KX1hc3luYyBmdW5jdGlvbiBUdChlLHQpe2NvbnN0IGE9YXdhaXQgd3QoKS5TdG9yYWdlLmdldFBhZ2UoZS5wYWdlSWQpLG49YXdhaXQobz0hIWEsW3t0eXBlOktlLkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LlNhdmV9fSx7dHlwZTpLZS5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiUmVuYW1lIFBhZ2VcIixkYXRhOnt0eXBlOncuUmVuYW1lfSxlbmFibGVkOm99LHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiRHVwbGljYXRlIFBhZ2VcIixkYXRhOnt0eXBlOncuRHVwbGljYXRlfX0se3R5cGU6S2UuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIkNsb3NlIFBhZ2VcIixkYXRhOnt0eXBlOncuQ2xvc2V9fV0pO3ZhciBvO2NvbnN0IGk9ey4uLmUsdGVtcGxhdGU6bixjYWxsYmFjazptdH07YXdhaXQgdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51KGksdCl9YXN5bmMgZnVuY3Rpb24ga3Qoe2FwcDplLHRhcmdldDp0fSl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtzd2l0Y2goZS5tYW5pZmVzdFR5cGUpe2Nhc2UgaS5TbmFwc2hvdDpyZXR1cm4gYS5hcHBseVNuYXBzaG90KGUubWFuaWZlc3QpO2Nhc2UgaS5WaWV3OnJldHVybiBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoXCJ2aWV3XCI9PT10LmVudGl0eVR5cGUpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCksbj1hd2FpdCBhLmdldFBhcmVudExheW91dCgpO3JldHVybiBhd2FpdCBuLnJlcGxhY2VWaWV3KHQse21hbmlmZXN0VXJsOmUubWFuaWZlc3QsdXJsOnZvaWQgMCx0YXJnZXQ6dm9pZCAwfSksYS5kZXN0cm95KCl9cmV0dXJuIGEuY3JlYXRlVmlldyh7bmFtZTp2b2lkIDAsdXJsOnZvaWQgMCxtYW5pZmVzdFVybDplLm1hbmlmZXN0LHRhcmdldDp2b2lkIDB9KX0oZSx0KTtjYXNlIGkuRXh0ZXJuYWw6cmV0dXJuIGZpbi5TeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzKHtwYXRoOmUubWFuaWZlc3QsdXVpZDplLmFwcElkfSk7ZGVmYXVsdDpyZXR1cm4gZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGUubWFuaWZlc3QpfX1jb25zdCBBdD1lPT5lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk7ZnVuY3Rpb24gTXQoZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIEF0KGUpJiZBdChhKSYmT2JqZWN0LmVudHJpZXMoYSkuZm9yRWFjaCgoKFt0LGFdKT0+e2lmKEF0KGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksTXQoZVt0XSxhKTtlW3RdPWF9KSksTXQoZSwuLi50KX12YXIgVnQsT3Q7IWZ1bmN0aW9uKGUpe2UuSG9tZUluZGV4PVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvc2VhcmNoL1wiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9ob21lL2RvY2svXCIsZS5Ccm93c2VyUGFnZXNMYW5kaW5nPVwiL2Jyb3dzZXIvcGFnZXMvbGFuZGluZy9cIixlLkhvbWVJbmRpY2F0b3I9XCIvaG9tZS9pbmRpY2F0b3IvXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wiLGUuQnJvd3NlclBvcHVwTWVudVNoYXJlUGFnZT1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2hhcmUtcGFnZS9cIixlLkJyb3dzZXJQb3B1cE1lbnVTYXZlUGFnZT1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2F2ZS1wYWdlL1wiLGUuQnJvd3NlclBvcHVwTWVudUxheW91dHM9XCIvYnJvd3Nlci9wb3B1cC1tZW51L2xheW91dHMvbGF5b3V0cy9cIixlLkJyb3dzZXJQb3B1cE1lbnVDb2xvckxpbmtpbmc9XCIvYnJvd3Nlci9wb3B1cC1tZW51L2NvbG9yLWxpbmtpbmcvY29sb3ItbGlua2luZy9cIixlLkJyb3dzZXJJbmRpY2F0b3I9XCIvYnJvd3Nlci9pbmRpY2F0b3IvXCIsZS5SZXNwb25zZU1vZGFsPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9yZXNwb25zZS1tb2RhbC9cIixlLkRvY3M9XCIvcHJvdmlkZXIvZG9jcy9cIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udC9cIixlLkRlcHJlY2F0ZWRBbGVydD1cIi9wcm92aWRlci9kZXByZWNhdGVkLWFsZXJ0L1wifShWdHx8KFZ0PXt9KSksZnVuY3Rpb24oZSl7ZS5JY29uT3BlbkZpbkxvZ289XCIvaWNvbnMvb3BlbmZpbmxvZ28uc3ZnXCIsZS5JY29uRmlsdGVyPVwiL2ljb25zL2ZpbHRlci5zdmdcIn0oT3R8fChPdD17fSkpO2NvbnN0IHh0PVcrey4uLk90LC4uLlZ0fS5Ccm93c2VyO2Z1bmN0aW9uIEZ0KGUsdCl7Y29uc3QgYT1NdCh7fSx0LGUpO3JldHVybiBhLmRldGFjaE9uQ2xvc2U9ITAsYX1hc3luYyBmdW5jdGlvbiBMdChlLHQsYSl7Y29uc3Qgbj1lLm1hbmlmZXN0VXJsP2F3YWl0IHQoe21hbmlmZXN0VXJsOmUubWFuaWZlc3RVcmx9LGEpOnZvaWQgMDtpZihuPy5pbnRlcm9wJiZlLmludGVyb3Ape2NvbnN0IHQ9ey4uLmUsLi4ubixpbnRlcm9wOmUuaW50ZXJvcH07cmV0dXJuIGRlbGV0ZSB0Lm1hbmlmZXN0VXJsLHR9cmV0dXJuIGV9Y29uc3QgRHQ9ZT0+e2NvbnN0IHQ9ZS5uYW1lPT09Ri5Ib21lLGE9ZS5uYW1lPy5zdGFydHNXaXRoKEYuSG9tZUludGVybmFsKSxuPWUubmFtZT8uc3RhcnRzV2l0aChGLkJyb3dzZXJNZW51KTtyZXR1cm4hdCYmIWEmJiFufSxSdD1lPT5cIndvcmtzcGFjZVBsYXRmb3JtXCJpbiBlP2U6KCh7d29ya3N0YWNrczplLHBhZ2VzOnQsLi4uYX0pPT4oey4uLmEsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOnR8fGV8fG51bGx9fSkpKGUpLFV0PXtjb250ZXh0TWVudVNldHRpbmdzOntyZWxvYWQ6ITF9LGJhY2tncm91bmRUaHJvdHRsaW5nOiEwLHVybDp4dCxjb250ZXh0TWVudTohMCxjb3JuZXJSb3VuZGluZzp7aGVpZ2h0Ojgsd2lkdGg6OH0sY2xvc2VPbkxhc3RWaWV3UmVtb3ZlZDohMSxleHBlcmltZW50YWw6e3Nob3dGYXZpY29uczohMCxkZWZhdWx0RmF2aWNvblVybDpgJHtXfS9pY29ucy9kZWZhdWx0RmF2aWNvbi5zdmdgfSxwZXJtaXNzaW9uczp7U3lzdGVtOntvcGVuVXJsV2l0aEJyb3dzZXI6e2VuYWJsZWQ6ITAscHJvdG9jb2xzOltcIm1haWx0b1wiXX19fX0sRXQ9e2RpbWVuc2lvbnM6e2JvcmRlcldpZHRoOjMsaGVhZGVySGVpZ2h0OjMwfX0sR3Q9KGUsdCk9PnQ/ZS5tYXAoKGU9Pih7Li4udCwuLi5lfSkpKTplLEJ0PWU9Pntjb25zdCB0PWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7cmV0dXJuIFByb21pc2UuYWxsKFt0LmJyaW5nVG9Gcm9udCgpLHQucmVzdG9yZSgpLHQuZm9jdXMoKV0pfTthc3luYyBmdW5jdGlvbiBfdChlKXtjb25zdCB0PWF3YWl0IF8oKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKCh7aWRlbnRpdHk6ZX0pPT4oYXN5bmMgZT0+KGF3YWl0IGVlKGUpKS5kaXNwYXRjaChhZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnMpKShlKSkpKSxlP2UoKTpVZSgpfWxldCBOdD1bXTtjb25zdCBIdD0oKT0+TnQ7Y29uc3QgJHQ9ZT0+YXN5bmMgdD0+e2NsYXNzIGEgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzV29ya3NwYWNlUGxhdGZvcm09KCk9PiEwLHRoaXMuYWRkUGFnZT10aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3csdGhpcy5kZXRhY2hQYWdlc0Zyb21XaW5kb3c9bWUsdGhpcy5nZXRBbGxBdHRhY2hlZFBhZ2VzPWNlLHRoaXMuZ2V0UGFnZXNGb3JXaW5kb3c9dmUsdGhpcy5nZXRQYWdlRm9yV2luZG93PVNlLHRoaXMuc2V0QWN0aXZlUGFnZT1QZSx0aGlzLmxhdW5jaEFwcD1rdCx0aGlzLnNhdmVQYWdlPWhlLHRoaXMuY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9bGUsdGhpcy51cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1nZSx0aGlzLmRlbGV0ZVNhdmVkUGFnZUludGVybmFsPXVlLHRoaXMucmVvcmRlclBhZ2VzRm9yV2luZG93PWJlLHRoaXMuZ2V0VW5pcXVlUGFnZVRpdGxlPUllLHRoaXMudXBkYXRlUGFnZUZvcldpbmRvdz1mZSx0aGlzLmdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz0kLHRoaXMuZ2V0VGhlbWVzPUh0LHRoaXMuaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9eGUsdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnU9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkUGFnZXM9dGhpcy5nZXRTYXZlZFBhZ2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2U9dGhpcy5nZXRTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkUGFnZT10aGlzLmNyZWF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlU2F2ZWRQYWdlPXRoaXMudXBkYXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFBhZ2U9dGhpcy5kZWxldGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3c9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51LmJpbmQodGhpcyl9YXN5bmMgZ2V0U25hcHNob3QoKXtjb25zdCBlPWF3YWl0IF90KChhc3luYygpPT5VZShhd2FpdCBzdXBlci5nZXRTbmFwc2hvdCh2b2lkIDAsZmluLm1lLmlkZW50aXR5KSkpKTtyZXR1cm57Li4uZSx3aW5kb3dzOmUud2luZG93cy5maWx0ZXIoRHQpfX1hc3luYyBhcHBseVNuYXBzaG90KHtzbmFwc2hvdDplLG9wdGlvbnM6dH0pe3Q/LmNsb3NlRXhpc3RpbmdXaW5kb3dzJiZhd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9YXdhaXQgXygpO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT5lLmNsb3NlKCEwKS5jYXRjaCgoKCk9Pnt9KSkpKSl9KCk7bGV0IGE9ZTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9YXdhaXQgc3VwZXIuZmV0Y2hNYW5pZmVzdCh7bWFuaWZlc3RVcmw6YX0sZmluLm1lLmlkZW50aXR5KSksYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWF3YWl0IGNlKCksbj1lLnNuYXBzaG90RGV0YWlscz8ubW9uaXRvckluZm98fGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxvPShlLndpbmRvd3N8fFtdKS5maWx0ZXIoKCh7bGF5b3V0OmV9KT0+ISFlKSksaT1uZXcgTWFwO2EuZm9yRWFjaCgoZT0+aS5zZXQoZS5wYWdlSWQsZSkpKTtjb25zdCByPVtdLHM9by5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PVJ0KGUpLGE9W10sbj0oZT0+e2xldCB0PSExO2NvbnN0IGE9KGV8fFtdKS5tYXAoKGU9Pntjb25zdCBhPWZ1bmN0aW9uKHtpZDplLG5hbWU6dCwuLi5hfSl7cmV0dXJue3BhZ2VJZDplLHRpdGxlOnQsLi4uYX19KGUpO3JldHVybiB0JiZhLmlzQWN0aXZlJiYoYS5pc0FjdGl2ZT0hMSksYS5pc0FjdGl2ZSYmKHQ9ITApLGF9KSk7cmV0dXJuIXQmJmEubGVuZ3RoJiYoYVswXS5pc0FjdGl2ZT0hMCksYX0pKHQ/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcyk7aWYoIW4/Lmxlbmd0aCl7Y29uc3QgZT1hd2FpdCBJZSgpO2EucHVzaChhd2FpdCBpdChlLHQubGF5b3V0KSl9bGV0IG87bi5mb3JFYWNoKChlPT57Y29uc3QgdD1pLmdldChlLnBhZ2VJZCk7dD9vPXQ6YS5wdXNoKGUpfSkpLG8mJmF3YWl0IFByb21pc2UuYWxsKFtQZSh7aWRlbnRpdHk6by5wYXJlbnRJZGVudGl0eSxwYWdlSWQ6by5wYWdlSWR9KSxCdChvLnBhcmVudElkZW50aXR5KV0pLGEubGVuZ3RoJiZyLnB1c2goey4uLnQsd29ya3NwYWNlUGxhdGZvcm06ey4uLnQud29ya3NwYWNlUGxhdGZvcm0scGFnZXM6YX19KX0pKTtpZihhd2FpdCBQcm9taXNlLmFsbChzKSwhci5sZW5ndGgpcmV0dXJuO2NvbnN0IGM9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7cmV0dXJuKHR8fGMuYXBwbHlTbmFwc2hvdC5iaW5kKGMpKSh7Li4uZSxzbmFwc2hvdERldGFpbHM6ey4uLmUuc25hcHNob3REZXRhaWxzLG1vbml0b3JJbmZvOm59LHdpbmRvd3M6cn0pfShhLChlPT5zdXBlci5hcHBseVNuYXBzaG90KHtzbmFwc2hvdDplLG9wdGlvbnM6ey4uLnQsY2xvc2VFeGlzdGluZ1dpbmRvd3M6ITF9fSkpKX1hc3luYyBjcmVhdGVXaW5kb3codCxhKXtsZXQgbj1SdCh0KTtjb25zdCBvPWF3YWl0IHRoaXMuZ2V0VGhlbWVzKCk7bj0oKGUsdCxhKT0+e2xldCBuPWU7Y29uc3Qgbz1uPy53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM7aWYobyl7Y29uc3QgZT1vLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtlP24ubGF5b3V0PWUubGF5b3V0OihvWzBdLmlzQWN0aXZlPSEwLG4ubGF5b3V0PW9bMF0ubGF5b3V0KX1pZihuLmxheW91dCl7aWYobj1NdCh7fSx0LmRlZmF1bHRXaW5kb3dPcHRpb25zLG4sVXQpLG4ubGF5b3V0PU10KG4ubGF5b3V0LEV0KSwobi5pY29ufHxuLnRhc2tiYXJJY29uKSYmKG4udGFza2Jhckljb25Hcm91cD1uLnRhc2tiYXJJY29uR3JvdXB8fGZpbi5tZS5pZGVudGl0eS51dWlkKSwhbi5iYWNrZ3JvdW5kQ29sb3Ipe2NvbnN0IGU9YT8ucGFsZXR0ZTtuLmJhY2tncm91bmRDb2xvcj1lPy5iYWNrZ3JvdW5kMnx8ZT8uYmFja2dyb3VuZFByaW1hcnl9Y29uc3QgZT1uLndvcmtzcGFjZVBsYXRmb3JtLm5ld1RhYlVybDtlJiYobi5sYXlvdXQuc2V0dGluZ3N8fChuLmxheW91dC5zZXR0aW5ncz17fSksbi5sYXlvdXQuc2V0dGluZ3MubmV3VGFiQnV0dG9uPXt1cmw6ZX0pLG49KGU9Pntjb25zdCB0PWU7cmV0dXJuIHQud29ya3NwYWNlUGxhdGZvcm18fCh0LndvcmtzcGFjZVBsYXRmb3JtPXt9KSx0LndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd0VuYWJsZWQ9ITAsdC53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxBdXRvU2hvdz10LndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8dm9pZCAwPT09dC5hdXRvU2hvd3x8dC5hdXRvU2hvdyx0LmF1dG9TaG93PSExLHR9KShuKX1yZXR1cm4gbi53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMmJihuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPUd0KG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMsdD8uZGVmYXVsdFBhZ2VPcHRpb25zKSksbn0pKG4sZSxvWzBdKSxuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxhPXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5ib3R0b20tdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LnRvcCxuPXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5yaWdodC10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QubGVmdDtyZXR1cm4gZS5kZWZhdWx0SGVpZ2h0PWUuZGVmYXVsdEhlaWdodHx8XCI4MDBcIixlLmRlZmF1bHRXaWR0aD1lLmRlZmF1bHRXaWR0aHx8XCI4MDBcIixhPGUuZGVmYXVsdEhlaWdodCYmKGUuZGVmYXVsdEhlaWdodD1hKSxuPGUuZGVmYXVsdFdpZHRoJiYoZS5kZWZhdWx0V2lkdGg9biksZX0pKG4pO3JldHVybihlPT5hc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCBlKHQsYSk7cmV0dXJuIHQ/LndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dFbmFibGVkPyhhd2FpdCBuLmFkZExpc3RlbmVyKEwuU2hvd1JlcXVlc3RlZCwoKCk9Pnt9KSksbik6bn0pKCgoZSx0KT0+c3VwZXIuY3JlYXRlV2luZG93KGUsdCkpKShuLGEpfWFzeW5jIGNyZWF0ZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzPUZ0KHQub3B0cyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cz1hd2FpdCBMdCh0Lm9wdHMsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLmNyZWF0ZVZpZXcodCxhKX1hc3luYyByZXBsYWNlVmlldyh0LGEpe3JldHVybiB0Lm9wdHMubmV3Vmlldz1hd2FpdCBGdCh0Lm9wdHMubmV3VmlldyxlPy5kZWZhdWx0Vmlld09wdGlvbnMpLHQub3B0cy5uZXdWaWV3PWF3YWl0IEx0KHQub3B0cy5uZXdWaWV3LHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSxzdXBlci5yZXBsYWNlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VMYXlvdXQoZSx0KXtyZXR1cm4gZS5vcHRzLmxheW91dD8uZGltZW5zaW9ucyxzdXBlci5yZXBsYWNlTGF5b3V0KGUsdCl9YXN5bmMgY2xvc2VWaWV3KGUsdCl7Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyhlLnZpZXcpO2F3YWl0IHN1cGVyLmNsb3NlVmlldyhlLHQpLGF3YWl0IGEuZGVzdHJveSgpLmNhdGNoKChlPT5lKSl9YXN5bmMgZ2V0U2F2ZWRQYWdlKC4uLmUpe3JldHVybiBIZS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkUGFnZXMoLi4uZSl7cmV0dXJuICRlLmFwcGx5KHRoaXMsZSl9YXN5bmMgY3JlYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBxZS5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gamUuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIFFlLmFwcGx5KHRoaXMsZSl9YXN5bmMgYXR0YWNoUGFnZXNUb1dpbmRvdyh0KXt0LnBhZ2VzPUd0KHQucGFnZXMsZT8uZGVmYXVsdFBhZ2VPcHRpb25zKSxhd2FpdCB5ZSh0KX1hc3luYyBvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gQ3QuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuR2xvYmFsQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFd0LmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBJdC5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFd0LmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBUdC5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFd0LmFwcGx5KHRoaXMsZSl9fXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/Lm92ZXJyaWRlQ2FsbGJhY2s/ZS5vdmVycmlkZUNhbGxiYWNrKGEpOm5ldyBhfTthc3luYyBmdW5jdGlvbiBxdCgpe1ZlKCksYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpO2F3YWl0IGUuYWRkTGlzdGVuZXIoXCJ3aW5kb3ctZm9jdXNlZFwiLHEpfSgpfWxldCBqdDtjb25zdCBRdD1hc3luYyBlPT57Y29uc3QgdD1JLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSksYT1hd2FpdChhc3luYyBlPT5uZXcgUHJvbWlzZSgoYXN5bmMgdD0+e2NvbnN0IGE9KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0VmVyc2lvbigpKS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpO3QoZS5ldmVyeSgoKHQsbik9PiEobjwzKXx8YVtuXT09PWVbbl0pKSl9KSkpKHQpLG49ZT8udGhlbWU7dmFyIG87aWYobiYmKChvPW4pLmZvckVhY2goKGU9Pntjb25zdCB0PWUucGFsZXR0ZS5iYWNrZ3JvdW5kUHJpbWFyeTtpZighdC5pbmNsdWRlcyhcIiNcIikmJiF0LmluY2x1ZGVzKFwicmdiXCIpJiYhdC5pbmNsdWRlcyhcImhzbFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIHByaW1hcnkgY29sb3IgaXMgbm90IHRoZSByaWdodCBmb3JtYXQuXCIpfSkpLE50PW8pLGU/LmN1c3RvbUFjdGlvbnMmJihPZT1lPy5jdXN0b21BY3Rpb25zKSxhKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi5cIik7anR8fChmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsKCgpPT5xdCgpKSksanQ9ZmluLlBsYXRmb3JtLmluaXQoe292ZXJyaWRlQ2FsbGJhY2s6JHQoZSksaW50ZXJvcE92ZXJyaWRlOmU/LmludGVyb3BPdmVycmlkZX0pKTtyZXR1cm4ganR9KGU/LmJyb3dzZXIpfXRocm93IG5ldyBFcnJvcihgUnVudGltZSB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0ZWQuICAke3RbMF19LiR7dFsxXX0uJHt0WzJdfS4qIGlzIHJlcXVpcmVkYCl9O21vZHVsZS5leHBvcnRzPWN9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezMxMzM6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7Q0xJQWN0aW9uOigpPT5aZS5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5aZS5lbCxDTElUZW1wbGF0ZTooKT0+WmUueVcsZGVyZWdpc3RlcjooKT0+UWUsaGlkZTooKT0+ZXQscmVnaXN0ZXI6KCk9PnplLHNob3c6KCk9PlllfSk7dmFyIHI9e307bi5yKHIpLG4uZChyLHtzdWJzY3JpYmU6KCk9PnJlfSk7dmFyIG89e307bi5yKG8pLG4uZChvLHtjcmVhdGU6KCk9PnFlfSk7dmFyIGk9big3NDA1KTtjb25zdCBzPVwiaG9tZVwiO3ZhciBhOyFmdW5jdGlvbihlKXtlLkNvbW1hbmRzPVwiaG9tZS1jb21tYW5kc1wifShhfHwoYT17fSkpO3ZhciBjLGQ9big1ODA2KTtuKDc1NjQpOyFmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShjfHwoYz17fSkpO2NvbnN0IHU9XCJhbGxcIixmPVwiMFwiLGw9XCI1XCIscD1cIjZcIixnPSgpPT57fTtmdW5jdGlvbiB3KGUsdCl7cmV0dXJuIGU/YCR7ZX0tJHt0fWA6dH1mdW5jdGlvbiBoKGUpe3JldHVybmBfX3NlYXJjaC0ke2V9LXRvcGljX19gfWNvbnN0IHk9bmV3IE1hcDtmdW5jdGlvbiB2KGUsdCl7eS5oYXMoZSl8fHkuc2V0KGUsbmV3IFNldCkseS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIG0oZSx0KXtjb25zdCBuPXkuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IFM9bmV3IE1hcDtmdW5jdGlvbiBDKGUsdCl7Uy5oYXMoZSl8fFMuc2V0KGUsbmV3IFNldCksUy5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIFAoZSx0KXtjb25zdCBuPVMuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IFI9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBiKGUsdCl7Ui5oYXMoZSl8fFIuc2V0KGUsbmV3IE1hcCksUi5nZXQoZSkuc2V0KHQuaWQsdCk7Y29uc3Qgbj15LmdldChlKTtpZighbilyZXR1cm47Y29uc3Qgcj1bLi4ubl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChyKX1hc3luYyBmdW5jdGlvbiBMKGUsdCl7Y29uc3Qgbj1SLmdldChlKTtpZighbilyZXR1cm47bi5kZWxldGUodCk7Y29uc3Qgcj1TLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgbz1bLi4ucl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChvKX1mdW5jdGlvbiBUKGUpe3JldHVybiBSLmdldChlKT9bLi4uUi5nZXQoZSkudmFsdWVzKCldOltdfWZ1bmN0aW9uIEkoZSl7Y29uc3QgdD1SLmdldChlKTt0JiZ0LmNsZWFyKCl9ZnVuY3Rpb24gTShlLHQpe2NvbnN0IG49Ui5nZXQoZSk7cmV0dXJuIG4/bi5nZXQodCk6bnVsbH1mdW5jdGlvbiBrKGUsdCxuKXtyZXR1cm57Li4uZSxhY3Rpb246bnx8ZS5hY3Rpb25zWzBdLGRpc3BhdGNoZXJJZGVudGl0eTp0fX1mdW5jdGlvbiBCKGUsdCxuPVwiYXNjZW5kaW5nXCIpe2NvbnN0IHI9ZXx8W107aWYoIXQ/Lmxlbmd0aClyZXR1cm4gcjtjb25zdCBvPVtdLGk9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gaS5zZXQoZS5rZXksZSk7by5wdXNoKGUpfSkpO2xldCBzPXIubWFwKChlPT57Y29uc3R7a2V5OnR9PWU7aWYodCYmaS5oYXModCkpe2NvbnN0IGU9aS5nZXQodCk7cmV0dXJuIGkuZGVsZXRlKHQpLGV9cmV0dXJuIGV9KSk7cmV0dXJuIHMucHVzaCguLi5pLnZhbHVlcygpLC4uLm8pLHM9XCJhc2NlbmRpbmdcIj09PW4/cy5zb3J0KCgoZSx0KT0+KG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKS0obnVsbCE9PXQuc2NvcmUmJnZvaWQgMCE9PXQuc2NvcmU/dC5zY29yZToxLzApKSk6cy5zb3J0KCgoZSx0KT0+KG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKS0obnVsbCE9PWUuc2NvcmUmJnZvaWQgMCE9PWUuc2NvcmU/ZS5zY29yZToxLzApKSksc31mdW5jdGlvbiBPKGUpe2NvbnN0IHQ9e307bGV0IG49W107bGV0IHI9W107bGV0IG89Yy5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5vLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5uLHQuc2V0UmVzdWx0QnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+cix0LnNldFJldm9rZWRCdWZmZXI9ZT0+e3I9ZSxyPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5vbkNoYW5nZT1nO2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e28hPT1jLkNsb3NlJiYobz1jLkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e28hPT1jLk9wZW4mJihvPWMuT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9bj0+e2NvbnN0IHI9Qih0LmdldFJlc3VsdEJ1ZmZlcigpLG4sZSk7dC5zZXRSZXN1bHRCdWZmZXIocil9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IG49bmV3IFNldChlKSxyPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PW4uaGFzKGUpO3JldHVybiB0JiZuLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihyKSxuLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5uLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4ubl0pKX0sdH1mdW5jdGlvbiBXKGUsdCxuKXtjb25zdCByPW5ldyBTZXQ7bGV0IG89ITE7cmV0dXJue2Nsb3NlOigpPT57bz0hMDtmb3IoY29uc3QgZSBvZiByKWUoKX0scmVxOntpZDp0LHRvcGljOmUsLi4ubixjb250ZXh0Om4/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e3IuYWRkKGUpLG8mJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e3IuZGVsZXRlKGUpfX19fWZ1bmN0aW9uIEQoKXtyZXR1cm57bmFtZTpmaW4ubWUubmFtZSx1dWlkOmZpbi5tZS51dWlkfX1mdW5jdGlvbiB4KCl7bGV0IGU7dHJ5e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoIXQ/LmlkZW50aXR5KXJldHVybjtlPXQuaWRlbnRpdHkudXVpZH1jYXRjaChlKXt9cmV0dXJuIGV9Y29uc3QgQT1cImRlcmVnaXN0ZXJlZCBvciBkb2VzIG5vdCBleGlzdFwiLEU9bmV3IEVycm9yKGBwcm92aWRlciAke0F9YCksRj1uZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIiksXz1uZXcgRXJyb3IoXCJiYWQgcGF5bG9hZFwiKSwkPW5ldyBFcnJvcihcInN1YnNjcmlwdGlvbiByZWplY3RlZFwiKSxxPW5ldyBFcnJvcihgY2hhbm5lbCAke0F9YCksRz1uZXcgTWFwO2Z1bmN0aW9uIE4oZSl7Y29uc3QgdD1IKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgcX1mdW5jdGlvbiBIKGUpe2NvbnN0IHQ9Ry5nZXQoZSk7aWYodClyZXR1cm4gdH1mdW5jdGlvbiBVKGUsdCl7Ry5zZXQoZSx0KX1jb25zdCBWPW5ldyBNYXA7ZnVuY3Rpb24gSyhlKXtWLmhhcyhlKXx8Vi5zZXQoZSxuZXcgTWFwKTtjb25zdCB0PVYuZ2V0KGUpO3JldHVybntnZXRSZXF1ZXN0c0ZvcklkZW50aXR5OmU9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybmAke2UudXVpZH06JHtlLm5hbWV9YH0oZSk7cmV0dXJuIHQuaGFzKG4pfHx0LnNldChuLG5ldyBNYXApLHQuZ2V0KG4pfX19YXN5bmMgZnVuY3Rpb24gWChlLHQpe3JldHVybihhd2FpdCBOKGUpKS5kaXNwYXRjaChmLHQpfWZ1bmN0aW9uIGooe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9KXtjb25zdCBuPU0uYmluZChudWxsLGUpLHI9SyhlKSxvPVguYmluZChudWxsLGUpO3JldHVybiBhc3luYyhlLGkpPT57aWYoIWV8fCFlLmlkfHwhZS5wcm92aWRlcklkKXtjb25zdCBlPV87cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3R7aWQ6cyxwcm92aWRlcklkOmF9PWUsYz1uKGEpO2lmKCFjKXtjb25zdCBlPUU7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3QgZD1yLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkoaSk7bGV0IHU9ZC5nZXQoZS5pZCk7dXx8KHU9Vyh0LHMsZSksZC5zZXQoZS5pZCx1KSk7Y29uc3QgZj1PKCksbD0oKT0+e2NvbnN0IGU9Zi5nZXRSZXN1bHRCdWZmZXIoKTtmLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3QgdD1mLmdldFJldm9rZWRCdWZmZXIoKTtmLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IG49Zi5nZXRTdGF0dXMoKTtvKHtpZDpzLHByb3ZpZGVySWQ6YSxyZXN1bHRzOmUscmV2b2tlZDp0LHN0YXR1czpufSl9O2xldCBwPSEwLGc9ITE7Zi5vbkNoYW5nZT0oKT0+e2lmKHApcmV0dXJuIHA9ITEsdm9pZCBsKCk7Z3x8KGc9ITAsc2V0VGltZW91dCgoKCk9PntnPSExLGwoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6dH09YXdhaXQgYy5vblVzZXJJbnB1dCh1LnJlcSxmLnJlcyksbj1mLmdldFN0YXR1cygpO3JldHVybntpZDpzLHByb3ZpZGVySWQ6YSxzdGF0dXM6bixyZXN1bHRzOmUsY29udGV4dDp0fX1jYXRjaChlKXtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsZXJyb3I6ZS5tZXNzYWdlfX19fWFzeW5jIGZ1bmN0aW9uIEooZSx0LG4pe2NvbnN0IHI9bnx8YXdhaXQgTihlKSxvPUQoKSxpPXtpZGVudGl0eTpvLC4uLnQsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfTthd2FpdCByLmRpc3BhdGNoKFwiMlwiLGkpLGF3YWl0IGIoZSx7aWRlbnRpdHk6bywuLi50fSl9YXN5bmMgZnVuY3Rpb24gWihlLHQpe2NvbnN0IG49YXdhaXQgTihlKTtyZXR1cm4gYXdhaXQgbi5kaXNwYXRjaChcIjNcIix0KSxMKGUsdCl9YXN5bmMgZnVuY3Rpb24geihlLHQsbixyKXtjb25zdCBvPWsobixEKCksciksaT1NKGUsdCk7aWYoaSl7Y29uc3R7b25SZXN1bHREaXNwYXRjaDplfT1pO2lmKCFlKXJldHVybjtyZXR1cm4gZShvKX1jb25zdCBzPXtwcm92aWRlcklkOnQscmVzdWx0Om99O3JldHVybihhd2FpdCBOKGUpKS5kaXNwYXRjaChsLHMpfWFzeW5jIGZ1bmN0aW9uIFEoZSx0KXtjb25zdCBuPXsuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e319LHI9e30sbz1hc3luYyBmdW5jdGlvbiooZSx0LHtzZXRTdGF0ZTpufSl7Y29uc3Qgcj1hd2FpdCBOKGUpO2Zvcig7Oyl7Y29uc3QgZT1hd2FpdCByLmRpc3BhdGNoKFwiMVwiLHQpLG89ZS5lcnJvcjtpZihvKXRocm93IG5ldyBFcnJvcihvKTtjb25zdCBpPWU7aWYodC5pZD1pLmlkLG4oaS5zdGF0ZSksaS5kb25lKXJldHVybiBpLnZhbHVlO3lpZWxkIGkudmFsdWV9fShlLG4se3NldFN0YXRlOmU9PntyLnN0YXRlPWV9fSk7bGV0IGk9YXdhaXQgby5uZXh0KCk7cmV0dXJuIHIuaWQ9bi5pZCxyLmNsb3NlPSgpPT57IWFzeW5jIGZ1bmN0aW9uKGUsdCl7KGF3YWl0IE4oZSkpLmRpc3BhdGNoKHAse2lkOnR9KX0oZSxyLmlkKX0sci5uZXh0PSgpPT57aWYoaSl7Y29uc3QgZT1pO3JldHVybiBpPXZvaWQgMCxlfXJldHVybiBvLm5leHQoKX0scn1hc3luYyBmdW5jdGlvbiBZKGUpe3JldHVybihhd2FpdCBOKGUpKS5kaXNwYXRjaChcIjRcIixudWxsKX1hc3luYyBmdW5jdGlvbiBlZShlKXtjb25zdCB0PWF3YWl0IE4oZSk7dmFyIG47bj1lLEcuZGVsZXRlKG4pLEkoZSksYXdhaXQgdC5kaXNjb25uZWN0KCl9ZnVuY3Rpb24gdGUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1LKHQpO3JldHVybiBhc3luYyByPT57aWYoIUgodCkpcmV0dXJuO2NvbnN0IG89bi5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KHIpO2Zvcihjb25zdHtyZXE6ZSxjbG9zZTp0fW9mIG8udmFsdWVzKCkpdCgpLG8uZGVsZXRlKGUuaWQpO1UodCwoYXN5bmMgZT0+e2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49YXdhaXQgbmUoZSk7Zm9yKGNvbnN0IGUgb2YgVCh0KSlhd2FpdCBKKHQsZSxuKTtyZXR1cm4gbn0pKGUpKX19YXN5bmMgZnVuY3Rpb24gbmUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1oKHQpLHI9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDw1MDt0KyspdHJ5e3JldHVybiBhd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pfWNhdGNoKGUpe2lmKDQ5PT09dCl0aHJvdyBlO2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsMWUzKSkpfX0obik7cmV0dXJuIHIucmVnaXN0ZXIoZixqKGUpKSxyLnJlZ2lzdGVyKHAsZnVuY3Rpb24oZSl7Y29uc3QgdD1LKGUpO3JldHVybihlLG4pPT57Y29uc3Qgcj10LmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobiksbz1yLmdldChlLmlkKTtvJiYoby5jbG9zZSgpLHIuZGVsZXRlKGUuaWQpKX19KHQpKSxyLnJlZ2lzdGVyKGwsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCByPU0oZSx0LnByb3ZpZGVySWQpO2lmKCFyKXJldHVybjtjb25zdHtvblJlc3VsdERpc3BhdGNoOm99PXI7cmV0dXJuIG8/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLG8odC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksci5vbkRpc2Nvbm5lY3Rpb24odGUoZSkpLHJ9YXN5bmMgZnVuY3Rpb24gcmUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fHUsbj0oXCJzdHJpbmdcIj09dHlwZW9mIGU/bnVsbDplPy51dWlkKXx8eCgpLHI9dyhuLHQpLG89e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOnJ9O2xldCBpPUgocik7cmV0dXJuIGl8fChpPW5lKG8pLFUocixpKSxhd2FpdCBpKSx7Z2V0QWxsUHJvdmlkZXJzOlkuYmluZChudWxsLHIpLHJlZ2lzdGVyOkouYmluZChudWxsLHIpLHNlYXJjaDpRLmJpbmQobnVsbCxyKSxkZXJlZ2lzdGVyOlouYmluZChudWxsLHIpLGRpc3BhdGNoOnouYmluZChudWxsLHIpLGRpc2Nvbm5lY3Q6ZWUuYmluZChudWxsLHIpfX1jb25zdCBvZT1uZXcgTWFwO2Z1bmN0aW9uIGllKGUpe2NvbnN0IHQ9c2UoZSk7aWYodClyZXR1cm4gdDt0aHJvdyBxfWZ1bmN0aW9uIHNlKGUpe2NvbnN0IHQ9b2UuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9Y29uc3QgYWU9bmV3IE1hcDtmdW5jdGlvbiBjZShlLHQpe2FlLmhhcyhlKXx8YWUuc2V0KGUsbmV3IFNldCksYWUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBkZShlLHQpe2NvbnN0IG49YWUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfXZhciB1ZT1uKDUzMTYpO2Z1bmN0aW9uIGZlKGUpe3JldHVyblsuLi5UKGUpXS5tYXAoKGU9Pih7Li4uZSxvblVzZXJJbnB1dDp2b2lkIDAsb25SZXN1bHREaXNwYXRjaDp2b2lkIDB9KSkpfWFzeW5jIGZ1bmN0aW9uIGxlKGUsdCl7aWYoTShlLHQuaWQpKXRocm93IG5ldyBFcnJvcihcInByb3ZpZGVyIHdpdGggbmFtZSBhbHJlYWR5IGV4aXN0c1wiKTtjb25zdCBuPUQoKTthd2FpdCBiKGUse2lkZW50aXR5Om4sLi4udH0pfWZ1bmN0aW9uIHBlKGUsdCl7TChlLHQpfWFzeW5jIGZ1bmN0aW9uIGdlKGUsdCxuLHIpe2NvbnN0IG89TShlLHQpO2lmKCFvKXRocm93IEU7Y29uc3R7b25SZXN1bHREaXNwYXRjaDppfT1vO2lmKCFpKXJldHVybjtyZXR1cm4gaShrKG4sRCgpLHIpKX1hc3luYyBmdW5jdGlvbip3ZShlLHQsbil7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49W10scj1bXSxvPVtdLGk9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1PKHMuc2NvcmVPcmRlciksYT17cmVzdWx0czpbXSxwcm92aWRlcjp7aWQ6cy5pZCxpZGVudGl0eTpzLmlkZW50aXR5LHRpdGxlOnMudGl0bGUsc2NvcmVPcmRlcjpzLnNjb3JlT3JkZXIsaWNvbjpzLmljb259fTtuLnB1c2goYSksci5wdXNoKGUpO2NvbnN0IGM9KGFzeW5jKCk9Pnt0cnl7Y29uc3R7cmVzdWx0czpuLGNvbnRleHQ6cn09YXdhaXQgcy5vblVzZXJJbnB1dCh0LGUucmVzKTthLnJlc3VsdHM9QihhLnJlc3VsdHMsbiksYS5jb250ZXh0PXsuLi5hLmNvbnRleHQsLi4ucn19Y2F0Y2goZSl7YS5lcnJvcj1lfWMuZG9uZT0hMH0pKCk7aS5wdXNoKGMpLG8ucHVzaChvLmxlbmd0aCl9cmV0dXJue3Byb3ZpZGVyUmVzcG9uc2VzOm4sbGlzdGVuZXJSZXNwb25zZXM6cixvcGVuTGlzdGVuZXJSZXNwb25zZXM6byxpbml0aWFsUmVzcG9uc2VQcm9taXNlczppfX0odC50YXJnZXRzP3QudGFyZ2V0cy5tYXAoKHQ9Pk0oZSx0KSkpLmZpbHRlcigoZT0+ISFlKSk6Wy4uLlQoZSkuZmlsdGVyKChlPT4hZS5oaWRkZW4pKV0sdCkse3Byb3ZpZGVyUmVzcG9uc2VzOm8sbGlzdGVuZXJSZXNwb25zZXM6aX09cjtsZXR7b3Blbkxpc3RlbmVyUmVzcG9uc2VzOnMsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6YX09cixkPXVlLkQuRmV0Y2hpbmc7Y29uc3QgdT1lPT57ZD1lLG4uc2V0U3RhdGUoZCl9O2xldCBmLGw9ITE7dC5vbkNsb3NlKCgoKT0+e2w9ITAsZiYmZigpfSkpO2Rve2xldCBlPSExO2lmKGEubGVuZ3RoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGEpbi5kb25lP2U9ITA6dC5wdXNoKG4pO2E9dCxhLmxlbmd0aHx8KHUodWUuRC5GZXRjaGVkKSxlPSEwKX1sZXQgdCxuPSExO2NvbnN0IHI9KCk9PntuPSEwLHQmJnQoKX0scD1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPWlbdF0scz1vW3RdLGE9bi5nZXRTdGF0dXMoKTsoYT09PWMuT3Blbnx8ZD09PXVlLkQuRmV0Y2hpbmcmJmE9PT1jLkluaXRpYWwpJiYocC5wdXNoKHQpLG4ub25DaGFuZ2U9cik7Y29uc3QgdT1uLmdldFJlc3VsdEJ1ZmZlcigpO3UubGVuZ3RoJiYobi5zZXRSZXN1bHRCdWZmZXIoW10pLHMucmVzdWx0cz1CKHMucmVzdWx0cyx1KSxlPSEwKTtjb25zdCBmPW4uZ2V0UmV2b2tlZEJ1ZmZlcigpO2lmKGYubGVuZ3RoKXtuLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHQ9bmV3IFNldChmKTtzLnJlc3VsdHM9cy5yZXN1bHRzLmZpbHRlcigoKHtrZXk6ZX0pPT4hdC5oYXMoZSkpKSxlPSEwfX1pZihzPXAsZSYmKHlpZWxkIG8pLGwpYnJlYWs7bnx8KHMubGVuZ3RofHxhLmxlbmd0aCkmJmF3YWl0IFByb21pc2UucmFjZShbLi4uYSxuZXcgUHJvbWlzZSgoZT0+e3Q9ZX0pKSxuZXcgUHJvbWlzZSgoZT0+e2Y9ZX0pKV0pfXdoaWxlKHMubGVuZ3RofHxhLmxlbmd0aCk7cmV0dXJuIHUodWUuRC5Db21wbGV0ZSksb31sZXQgaGU9MDtmdW5jdGlvbiB5ZSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0sbil7aGUrPTE7Y29uc3Qgcj1XKHQsaGUudG9TdHJpbmcoKSxuKSxvPXdlKGUsci5yZXEse3NldFN0YXRlOmU9PntvLnN0YXRlPWV9fSk7cmV0dXJuIG8uaWQ9aGUudG9TdHJpbmcoKSxvLmNsb3NlPXIuY2xvc2Usby5zdGF0ZT11ZS5ELkZldGNoaW5nLG99Y29uc3QgdmU9bmV3IE1hcDtmdW5jdGlvbiBtZShlLHQpe3JldHVybmAke2V9OiR7dH1gfWZ1bmN0aW9uIFNlKGUpe3JldHVybiBhc3luYyh0LC4uLm4pPT57aWYoIXQpcmV0dXJue2Vycm9yOl8ubWVzc2FnZX07bGV0IHI7aWYodC5pZClyPW1lKGUubmFtZXNwYWNlZFRvcGljLHQuaWQpO2Vsc2V7Y29uc3Qgbj15ZShlLHQpO3I9bWUoZS5uYW1lc3BhY2VkVG9waWMsbi5pZCksdC5pZD1uLmlkLHZlLnNldChyLHtnZW5lcmF0b3I6bn0pfWNvbnN0IG89dmUuZ2V0KHIpO2NsZWFyVGltZW91dChvLnRpbWVvdXQpO2NvbnN0IGk9YXdhaXQgby5nZW5lcmF0b3IubmV4dCgpO3JldHVybiBvLnRpbWVvdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3ZlLmRlbGV0ZShlKX0pLDFlNCl9KHIpLHsuLi5pLGlkOnQuaWQsc3RhdGU6by5nZW5lcmF0b3Iuc3RhdGV9fX1mdW5jdGlvbiBDZShlLHQsbil7cmV0dXJuIGllKGUpLmRpc3BhdGNoKHQscCx7aWQ6bn0pfWZ1bmN0aW9uIFBlKGUpe3JldHVybiB0PT5mdW5jdGlvbihlLHQpe2NvbnN0IG49bWUoZSx0KSxyPXZlLmdldChuKTtyJiZyLmdlbmVyYXRvci5jbG9zZSgpfShlLHQuaWQpfWFzeW5jIGZ1bmN0aW9uIFJlKGUsdCx7aWQ6bixxdWVyeTpyLGNvbnRleHQ6byx0YXJnZXRzOml9KXtjb25zdCBzPWllKGUpLGE9e2lkOm4scXVlcnk6cixjb250ZXh0Om8sdGFyZ2V0czppLHByb3ZpZGVySWQ6dC5pZH0sYz1hd2FpdCBzLmRpc3BhdGNoKHQuaWRlbnRpdHksZixhKSxkPWMuZXJyb3I7aWYoZCl0aHJvdyBuZXcgRXJyb3IoZCk7cmV0dXJuIGN9Y29uc3QgYmU9bmV3IE1hcDtmdW5jdGlvbiBMZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0Lm5hbWV9OiR7dC51dWlkfToke259YH1jb25zdCBUZT1uZXcgTWFwO2Z1bmN0aW9uIEllKGUsdCxuKXtyZXR1cm5gJHtlfToke3R9OiR7bn1gfWZ1bmN0aW9uIE1lKGUsdCl7Y29uc3Qgbj1MZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPUNlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLG89UmUuYmluZChudWxsLGUsdCk7cmV0dXJuIGFzeW5jKGkscyk9Pntjb25zdCBhPW4oaS5pZCk7aWYoIWJlLmhhcyhhKSl7Y29uc3QgZT0oKT0+e3IoaS5pZCksYmUuZGVsZXRlKGEpfTtiZS5zZXQoYSxlKSxpLm9uQ2xvc2UoZSl9Y29uc3QgZD1JZShlLHQuaWQsaS5pZCksdT0oKT0+e1RlLmRlbGV0ZShkKSxzLmNsb3NlKCl9O2kub25DbG9zZSh1KSxUZS5zZXQoZCwoZT0+e2UucmVzdWx0cz8ubGVuZ3RoJiZzLnJlc3BvbmQoZS5yZXN1bHRzKSxlLnJldm9rZWQ/Lmxlbmd0aCYmcy5yZXZva2UoLi4uZS5yZXZva2VkKSxlLnN0YXR1cz09PWMuT3BlbiYmcy5vcGVuKCksZS5zdGF0dXM9PT1jLkNsb3NlJiZ1KCl9KSk7Y29uc3QgZj1hd2FpdCBvKGkpO3JldHVybiBmLnN0YXR1cz09PWMuT3BlbiYmcy5vcGVuKCksZi5zdGF0dXMhPT1jLkNsb3NlJiZmLnN0YXR1cyE9PWMuSW5pdGlhbHx8dSgpLGZ9fWZ1bmN0aW9uIGtlKGUsdCl7cmV0dXJuIGFzeW5jIG49Pntjb25zdCByPWllKGUpLG89e3Byb3ZpZGVySWQ6dC5pZCxyZXN1bHQ6bn07cmV0dXJuIHIuZGlzcGF0Y2godC5pZGVudGl0eSxsLG8pfX1jb25zdCBCZT1uZXcgTWFwO2Z1bmN0aW9uIE9lKGUsdCl7cmV0dXJuYCR7ZX0tJHt0Lm5hbWV9LSR7dC51dWlkfWB9ZnVuY3Rpb24gV2UoZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQuaWQpcmV0dXJuIHZvaWQgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHQpKTtpZihNKGUsdC5pZCkpdGhyb3cgRjt0LmlkZW50aXR5PW4sYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9lKGUsdC5pZGVudGl0eSk7QmUuaGFzKG4pfHxCZS5zZXQobixbXSksQmUuZ2V0KG4pLnB1c2godC5pZCksYXdhaXQgYihlLHsuLi50LG9uVXNlcklucHV0Ok1lKGUsdCksb25SZXN1bHREaXNwYXRjaDprZShlLHQpfSl9KGUsdCl9fWZ1bmN0aW9uIERlKGUpe3JldHVybiB0PT57dCYmZnVuY3Rpb24oZSx0KXtjb25zdCBuPU0oZSx0KTtpZighbilyZXR1cm47Y29uc3Qgcj1PZShlLG4uaWRlbnRpdHkpLG89QmUuZ2V0KHIpO2lmKG8pe2NvbnN0IG49by5maW5kSW5kZXgoKGU9PmU9PT10KSk7LTEhPT1uJiYoby5zcGxpY2UobiwxKSxMKGUsdCkpfX0oZSx0KX19Y29uc3QgeGU9bmV3IE1hcDtmdW5jdGlvbiBBZShlLHQpe3hlLmhhcyhlKXx8eGUuc2V0KGUsbmV3IFNldCkseGUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBFZShlLHQpe2NvbnN0IG49eGUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWZ1bmN0aW9uIEZlKGUpe3JldHVybiBhc3luYyB0PT57IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1PZShlLHQpLHI9QmUuZ2V0KG4pO2lmKHIpe2Zvcihjb25zdCB0IG9mIHIpTChlLHQpO0JlLmRlbGV0ZShuKX19KGUsdCk7Y29uc3Qgbj14ZS5nZXQoZSk7biYmbi5mb3JFYWNoKChlPT5lKHQpKSl9fWFzeW5jIGZ1bmN0aW9uIF9lKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49aChlLm5hbWVzcGFjZWRUb3BpYykscj1hd2FpdChvPW4sZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUobykpO3ZhciBvO3JldHVybiByLm9uQ29ubmVjdGlvbihmdW5jdGlvbih7bmFtZXNwYWNlZFRvcGljOmV9KXtyZXR1cm4gYXN5bmMgdD0+e2NvbnN0IG49YWUuZ2V0KGUpO2lmKG4pZm9yKGNvbnN0IGUgb2YgbilpZighYXdhaXQgZSh0KSl0aHJvdyAkfX0oZSkpLHIub25EaXNjb25uZWN0aW9uKEZlKHQpKSxyLnJlZ2lzdGVyKHAsUGUodCkpLHIucmVnaXN0ZXIoZixmdW5jdGlvbihlKXtyZXR1cm4gdD0+e2NvbnN0IG49SWUoZSx0LnByb3ZpZGVySWQsdC5pZCkscj1UZS5nZXQobik7ciYmcih0KX19KHQpKSxyLnJlZ2lzdGVyKFwiMlwiLFdlKHQpKSxyLnJlZ2lzdGVyKFwiM1wiLERlKHQpKSxyLnJlZ2lzdGVyKFwiNFwiLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYygpPT5mZShlKX0odCkpLHIucmVnaXN0ZXIoXCIxXCIsU2UoZSkpLHIucmVnaXN0ZXIobCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IHI9TShlLHQucHJvdmlkZXJJZCk7aWYoIXIpdGhyb3cgRTtjb25zdHtvblJlc3VsdERpc3BhdGNoOm99PXI7cmV0dXJuIG8/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLG8odC5yZXN1bHQpKTp2b2lkIDB9fSh0KSkscn1hc3luYyBmdW5jdGlvbiAkZShlKXtjb25zdCB0PWllKGUpO3ZhciBuO249ZSxvZS5kZWxldGUobiksYXdhaXQgdC5kZXN0cm95KCksSShlKX1hc3luYyBmdW5jdGlvbiBxZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8dSxuPXgoKSxyPXcobix0KSxvPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpyfTtsZXQgaT1zZShyKTtpfHwoaT1hd2FpdCBfZShvKSxmdW5jdGlvbihlLHQpe29lLnNldChlLHQpfShyLGkpKTtjb25zdCBzPWRlLmJpbmQobnVsbCxyKSxhPUVlLmJpbmQobnVsbCxyKSxjPW0uYmluZChudWxsLHIpLGQ9UC5iaW5kKG51bGwscik7cmV0dXJue2dldEFsbFByb3ZpZGVyczpmZS5iaW5kKG51bGwsciksc2VhcmNoOnllLmJpbmQobnVsbCxvKSxyZWdpc3RlcjpsZS5iaW5kKG51bGwsciksZGVyZWdpc3RlcjpwZS5iaW5kKG51bGwsciksb25TdWJzY3JpcHRpb246Y2UuYmluZChudWxsLHIpLG9uRGlzY29ubmVjdDpBZS5iaW5kKG51bGwsciksb25SZWdpc3Rlcjp2LmJpbmQobnVsbCxyKSxvbkRlcmVnaXN0ZXI6Qy5iaW5kKG51bGwsciksZGlzcGF0Y2g6Z2UuYmluZChudWxsLG8pLGRpc2Nvbm5lY3Q6JGUuYmluZChudWxsLHIpLHJlbW92ZUxpc3RlbmVyOmU9PntzKGUpLGEoZSksYyhlKSxkKGUpfX19Y29uc3R7Y3JlYXRlOkdlfT1vLHtzdWJzY3JpYmU6TmV9PXIsSGU9e2NyZWF0ZTpHZSxzdWJzY3JpYmU6TmUsZGVmYXVsdFRvcGljOlwiYWxsXCJ9LFVlPSgpPT57Y29uc3QgZT13aW5kb3c7ZS5zZWFyY2g9SGUsZS5maW4mJihlLmZpbi5TZWFyY2g9SGUpfSxWZT1lPT57Y29uc3QgdD0oKT0+e1VlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1VlKCk7Y29uc3QgZT1cImxvYWRcIix0PVZlKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixyPVZlKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4scil9Y29uc3QgS2U9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBYZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0tlLnNldChlLGF3YWl0IE5lKHt0b3BpYzplLHV1aWQ6ZC5xOS5Xb3Jrc3BhY2V9KSl9KHMpfWxldCBqZTthc3luYyBmdW5jdGlvbiBKZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gamV8fChqZT1YZSgpKSxqZX0oKSxLZS5nZXQoZSl9dmFyIFplPW4oMzc1OCk7Y29uc3QgemU9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAsaS5hQikoKTtyZXR1cm4oYXdhaXQgSmUocykpLnJlZ2lzdGVyKGUpfSxRZT1hc3luYyBlPT57YXdhaXQoMCxpLmFCKSgpO3JldHVybihhd2FpdCBKZShzKSkuZGVyZWdpc3RlcihlKX07YXN5bmMgZnVuY3Rpb24gWWUoKXtyZXR1cm4oYXdhaXQoMCxpLlhsKSgpKS5kaXNwYXRjaChpLk1sLlNob3dIb21lLHZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gZXQoKXtyZXR1cm4oYXdhaXQoMCxpLlhsKSgpKS5kaXNwYXRjaChpLk1sLkhpZGVIb21lLHZvaWQgMCl9fSwzMjk4OihlLHQsbik9PntuLmQodCx7dzooKT0+ci53fSk7dmFyIHI9big1MzE2KX0sMzc1ODooZSx0LG4pPT57dmFyIHIsbyxpO24uZCh0LHtQdDooKT0+cix5VzooKT0+byxlbDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpfSw3NTY0OihlLHQsbik9PntuKDMyOTgpLG4oMzc1OCksbig2MTE0KSxuKDIxMDkpfSw2MTE0OihlLHQsbik9Pnt2YXIgcixvO24uZCh0LHtMOigpPT5yLFQ6KCk9Pm99KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShvfHwobz17fSkpfSwyMTA5OihlLHQsbik9PntuLmQodCx7cDY6KCk9PnIsR286KCk9Pm8sYkk6KCk9PmksWko6KCk9PnN9KTtjb25zdCByPXtDb250YWluZXI6XCJDb250YWluZXJcIixCdXR0b246XCJCdXR0b25cIn0sbz17VGV4dDpcIlRleHRcIixJbWFnZTpcIkltYWdlXCIsTGlzdDpcIkxpc3RcIn0saT17Li4uciwuLi5vfTt2YXIgczshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHN8fChzPXt9KSl9LDMxNzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtBcHBNYW5pZmVzdFR5cGU6KCk9Pm8uTCxTdG9yZWZyb250VGVtcGxhdGU6KCk9Pm8uVCxkZXJlZ2lzdGVyOigpPT51LGhpZGU6KCk9PmYscmVnaXN0ZXI6KCk9PmQsc2hvdzooKT0+bH0pO3ZhciByPW4oNzQwNSk7big3NTY0KTt2YXIgbz1uKDYxMTQpO2xldCBpO2NvbnN0IHM9bmV3IE1hcCxhPWU9PntpZighcy5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IFByb3ZpZGVyIHdpdGggaWQgJHtlfSBpcyBub3QgcmVnaXN0ZXJlZGApO3JldHVybiBzLmdldChlKX0sYz1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHIuWGwpKCk7aWYocy5oYXMoZS5pZCkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IHByb3ZpZGVyIHdpdGggaWQgJHtlLmlkfSBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcy5zZXQoZS5pZCxlKSwoZT0+e2UuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWR8fChlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzLChlPT5hKGUpLmdldEFwcHMoKSkpLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJGb290ZXIsKGU9PmEoZSkuZ2V0Rm9vdGVyKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2UsKGU9PmEoZSkuZ2V0TGFuZGluZ1BhZ2UoKSkpLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uLChlPT5hKGUpLmdldE5hdmlnYXRpb24oKSkpLGUucmVnaXN0ZXIoci5NbC5MYXVuY2hTdG9yZWZyb250UHJvdmlkZXJBcHAsKCh7aWQ6ZSxhcHA6dH0pPT5hKGUpLmxhdW5jaEFwcCh0KSkpKX0pKHQpLHQuZGlzcGF0Y2goci5NbC5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixlKX0sZD1lPT4oaT1jKGUpLGkpLHU9YXN5bmMgZT0+e2F3YWl0IGkscy5kZWxldGUoZSk7cmV0dXJuKGF3YWl0KDAsci5YbCkoKSkuZGlzcGF0Y2goci5NbC5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSxmPWFzeW5jKCk9Pnthd2FpdCBpLGF3YWl0KDAsci5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLk1sLkhpZGVTdG9yZWZyb250LHZvaWQgMCkpKCl9LGw9YXN5bmMoKT0+e2F3YWl0IGksYXdhaXQoMCxyLmFCKSgpLGF3YWl0KGFzeW5jKCk9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuTWwuU2hvd1N0b3JlZnJvbnQsbnVsbCkpKCl9fSw3NDA1OihlLHQsbik9PntuLmQodCx7TWw6KCk9PnMsRG06KCk9PmEsWGw6KCk9PmYsYUI6KCk9PnV9KTt2YXIgcj1uKDY2NzgpO2NvbnN0IG89ci5BeCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7dmFyIGk9bigxMjEpO3ZhciBzOyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShzfHwocz17fSkpO2NvbnN0IGE9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighci5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCBvO2NvbnN0IG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUpO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLG59KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgobj0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke259YCl9KSkpLHR9fShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1cImlzTGF1bmNoZWRWaWFMaWJcIixkPWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChjLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHU9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLGkuSlYpKGkuaVcpKXJldHVybihyLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKHIuYVcpKSxmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKHIuR1gpKX0sZj1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDU4MDY6KGUsdCxuKT0+e24uZCh0LHtxOTooKT0+cn0pO3ZhciByLG8saSxzPW4oNjY3OCk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaXx8KGk9e30pKTtzLkFCLHMuQUIsci5Xb3Jrc3BhY2Usci5Xb3Jrc3BhY2V9LDY2Nzg6KGUsdCxuKT0+e3ZhciByO24uZCh0LHtzUzooKT0+byxBeDooKT0+aSxBQjooKT0+YSxvQzooKT0+YyxaSzooKT0+ZCxHWDooKT0+dSxhVzooKT0+Zn0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ocnx8KHI9e30pKTtjb25zdCBvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxzPWk/d2luZG93Lm9yaWdpbjpyLkxvY2FsLGE9byYmZmluLm1lLnV1aWQsYz1vJiZmaW4ubWUubmFtZSxkPShvJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PXIuTG9jYWwpLHU9KHIuRGV2LHIuU3RhZ2luZyxyLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLGY9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNi9hcHAuanNvblwiLGw9ZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpzK2U7bChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzYuMy42XCIpLGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZsKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCl9LDEyMTooZSx0LG4pPT57bi5kKHQse2lXOigpPT5jLEpWOigpPT5kfSk7dmFyIHIsbyxpPW4oNTgwNikscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ob3x8KG89e30pKTtmdW5jdGlvbiBhKGUpe2lmKCFzLnNTKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfXMub0Mscy5BQjtyLkhvbWUsaS5xOS5Xb3Jrc3BhY2Usci5Eb2NrLGkucTkuV29ya3NwYWNlLHIuU3RvcmVmcm9udCxpLnE5LldvcmtzcGFjZTtjb25zdCBjPXtuYW1lOmkucTkuV29ya3NwYWNlLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9O2NvbnN0IGQ9ZT0+YShlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpfSw1MzE2OihlLHQsbik9Pnt2YXIgcixvO24uZCh0LHtEOigpPT5yLHc6KCk9Pm99KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSl9fSx0PXt9O2Z1bmN0aW9uIG4ocil7dmFyIG89dFtyXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbcl0oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgciBpbiB0KW4ubyh0LHIpJiYhbi5vKGUscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITAsZ2V0OnRbcl19KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciByPXt9OygoKT0+e24ucihyKSxuLmQocix7QXBwTWFuaWZlc3RUeXBlOigpPT5wLkwsQnV0dG9uU3R5bGU6KCk9PmYuWkosQ0xJQWN0aW9uOigpPT5sLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PmwuZWwsQ0xJVGVtcGxhdGU6KCk9PmwueVcsQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5mLnA2LEhvbWU6KCk9Pm8sTGVnYWN5OigpPT5lLFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5HbyxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT51LncsU3RvcmVmcm9udDooKT0+ZCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PnAuVCxUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PmYuYkl9KTt2YXIgZT17fTtuLnIoZSksbi5kKGUse2dldFBhZ2VzOigpPT5hLGdldFdvcmtzcGFjZXM6KCk9PmN9KTt2YXIgdCxvPW4oMzEzMyk7big2Njc4KSxuKDEyMSk7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifSh0fHwodD17fSkpO25ldyBNYXA7dmFyIGk7IWZ1bmN0aW9uKGUpe2UuTGFzdExhdW5jaGVkV29ya3NwYWNlSWQ9XCJhY3RpdmVXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwifShpfHwoaT17fSkpO3ZhciBzPW4oNzQwNSk7Y29uc3QgYT0oKT0+YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLk1sLkdldExlZ2FjeVBhZ2VzLHZvaWQgMCl9KCksYz0oKT0+KGFzeW5jKCk9Pihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5V29ya3NwYWNlcyx2b2lkIDApKSgpO3ZhciBkPW4oMzE3KSx1PW4oMzI5OCksZj1uKDIxMDkpLGw9bigzNzU4KSxwPW4oNjExNCl9KSgpLG1vZHVsZS5leHBvcnRzPXJ9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwcygpOiBQcm9taXNlPEFwcFtdPiB7XG4gICAgcmV0dXJuIFtleHBlcm9BcHAsIG5vdGlmaWNhdGlvblN0dWRpbywgcHJvY2Vzc01hbmFnZXIsIGRldmVsb3BlckNvbnRlbnRdO1xufVxuXG5leHBvcnQgY29uc3QgZXhwZXJvQXBwOkFwcCA9IHtcbiAgICBhcHBJZDogXCJleHBlcm8tY29tcGFueS1uZXdzXCIsXG4gICAgdGl0bGU6IFwiT3B0aW9ucyBVSVwiLFxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vb3BlbmZpbi1pZXguZXhwZXJvbGFicy5jb20vb3BlbmZpbi9tYW5pZmVzdHMvY29tcGFueS1uZXdzLmpzb25cIixcbiAgICBtYW5pZmVzdFR5cGU6IFwidmlld1wiLFxuICAgIGljb25zOiBbXG4gICAgICB7XG4gICAgICAgIHNyYzogXCJodHRwczovL29wZW5maW4taWV4LmV4cGVyb2xhYnMuY29tL2Zhdmljb24uaWNvXCJcbiAgICAgIH1cbiAgICBdLFxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXG4gICAgc3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcbiAgICBwdWJsaXNoZXI6IFwiRXhwZXJvXCIsXG4gICAgaW50ZW50czogW10sXG4gICAgaW1hZ2VzOiBbe1xuICAgICAgc3JjOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9wcmV2aWV3cy9leHBlcm8tbmV3cy12aWV3LnBuZ1wiXG4gICAgfV0sXG4gICAgdGFnczpbXCJleHBlcm9cIiwgXCJ2aWV3XCIsIFwiaW50ZXJvcFwiXVxuICB9O1xuXG4gIGV4cG9ydCBjb25zdCBub3RpZmljYXRpb25TdHVkaW86QXBwID0gIHtcbiAgICBhcHBJZDogXCJub3RpZmljYXRpb25zLWdlbmVyYXRvclwiLFxuICAgIHRpdGxlOiBcIk9wZW5GaW4gTm90aWZpY2F0aW9ucyBTdHVkaW9cIixcbiAgICBtYW5pZmVzdFR5cGU6IFwibWFuaWZlc3RcIixcbiAgICBkZXNjcmlwdGlvbjogXCJOb3RpZmljYXRpb25zIFN0dWRpbzogVGhpcyBpcyBPcGVuRmluJ3MgdG9vbCBmb3IgZGVtb25zdHJhdGluZyB0aGUgcG93ZXIgb2Ygb3VyIE5vdGlmaWNhdGlvbiBDZW50ZXIuIFVzZSBpdCB0byBjcmVhdGUgbG9jYWwgbm90aWZpY2F0aW9ucyBvciB1c2Ugc29tZSBvZiB0aGUgZXhhbXBsZXMgc2hvd24gaW4gb3VyIENhdGFsb2cuIEV4cGVyaW1lbnQgd2l0aCBvdXIgZmVhdHVyZXMgYW5kIHNlZSB0aGUgcG93ZXIgdGhhdCBPcGVuRmluIE5vdGlmaWNhdGlvbiBDZW50ZXIgY2FuIGJyaW5nIHRvIHlvdXIgYXBwbGljYXRpb25zLlwiLFxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vc3R1ZGlvL25vdGlmaWNhdGlvbi9hcHAuanNvblwiLFxuICAgIGljb25zOiBbXG4gICAgICB7IHNyYzogXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL2RlbW9zL25vdGlmaWNhdGlvbnMvZ2VuZXJhdG9yL2ltYWdlcy9pY29uLWJsdWUucG5nXCJ9XG4gICAgXSxcbiAgICBjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXG4gICAgcHVibGlzaGVyOiBcIk9wZW5GaW5cIixcbiAgICBpbnRlbnRzOiBbXSxcbiAgICBpbWFnZXM6IFt7XG4gICAgICBzcmM6XCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL3ByZXZpZXdzL29wZW5maW4tbm90aWZpY2F0aW9uLXN0dWRpby5wbmdcIlxuICAgIH1dLFxuICAgIHRhZ3M6W1wiaGVyb1wiLCBcIm1hbmlmZXN0XCIsIFwidG9vbHNcIl1cbiAgfTtcblxuICBleHBvcnQgY29uc3QgcHJvY2Vzc01hbmFnZXI6QXBwID0ge1xuICAgIGFwcElkOiBcIm9wZW5maW4tcHJvY2Vzcy1tYW5hZ2VyXCIsXG4gICAgdGl0bGU6IFwiT3BlbkZpbiBQcm9jZXNzIE1hbmFnZXJcIixcbiAgICBtYW5pZmVzdFR5cGU6IFwibWFuaWZlc3RcIixcbiAgICBkZXNjcmlwdGlvbjogXCJQcm9jZXNzIE1hbmFnZXI6IFRoaXMgaXMgT3BlbkZpbidzIHRvb2wgZm9yIGhlbHBpbmcgZGV2ZWxvcGVycyBidWlsZCBPcGVuRmluIEFwcGxpY2F0aW9ucy4gSXQgbGV0cyB5b3Ugc2VlIHRoZSBPcGVuRmluIGFwcGxpY2F0aW9ucyB0aGF0IGFyZSBydW5uaW5nLCB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGFwcGxpY2F0aW9ucyAobWVtb3J5IGFuZCBjcHUpIGFuZCBlYXN5IGFjY2VzcyB0byB0aGUgZGV2IHRvb2xzIGZvciB0aGUgV2luZG93cyBvZiB5b3VyIGFwcGxpY2F0aW9uLlwiLFxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vcHJvY2Vzcy1tYW5hZ2VyL2FwcC5qc29uXCIsXG4gICAgaWNvbnM6IFtcbiAgICAgIHsgc3JjOiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vcHJvY2Vzcy1tYW5hZ2VyL2ltZy9wcm9jLW1nci1pY29uLnBuZ1wiIH1cbiAgICBdLFxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXG4gICAgc3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcbiAgICBwdWJsaXNoZXI6IFwiT3BlbkZpblwiLFxuICAgIGludGVudHM6IFtdLFxuICAgIGltYWdlczogW3tcbiAgICAgIHNyYzpcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9pbWFnZXMvcHJldmlld3Mvb3BlbmZpbi1wcm9jZXNzLW1hbmFnZXIucG5nXCJcbiAgICB9XSxcbiAgICB0YWdzOltcImhlcm9cIixcIm1hbmlmZXN0XCIsIFwidG9vbHNcIl1cbiAgfTtcblxuICBleHBvcnQgY29uc3QgZGV2ZWxvcGVyQ29udGVudDogQXBwID0ge1xuICAgIGFwcElkOiBcIm9wZW5maW4tZGV2ZWxvcGVyLXBhZ2VcIixcbiAgICB0aXRsZTogXCJPcHRpb25zIFVJXCIsXG4gICAgbWFuaWZlc3RUeXBlOiBcInNuYXBzaG90XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2hvd3MgYSBjb2xsZWN0aW9uIG9mIE9wZW5GaW4gZGV2ZWxvcGVyIHBhZ2VzIGFuZCBwcm92aWRlcyBhbiBleGFtcGxlIG9mIGhvdyB5b3UgY2FuIHByZXNlbnQgYSBwcmUtYnVpbHQgcGFnZSBhcyBhIGxhdW5jaCB0YXJnZXQgaW4gT3BlbkZpbiBIb21lLiBUaGlzIGVudHJ5IGhhcyBhIG1hbmlmZXN0IHR5cGUgb2YgJ3NuYXBzaG90Jy5cIixcbiAgICBtYW5pZmVzdDogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvc25hcHNob3QuanNvblwiLFxuICAgIGljb25zOiBbXG4gICAgICB7IHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL2ljb24tYmx1ZS5wbmdcIiB9XG4gICAgXSxcbiAgICBjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXG4gICAgcHVibGlzaGVyOiBcIk9wZW5GaW5cIixcbiAgICBpbnRlbnRzOiBbXSxcbiAgICBpbWFnZXM6IFt7XG4gICAgICBzcmM6XCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL3ByZXZpZXdzL29wZW5maW4tcGFnZS1kb2NzLnBuZ1wiXG4gICAgfV0sXG4gICAgdGFnczpbXCJwYWdlXCJdXG4gIH07IiwiaW1wb3J0IHsgZ2V0Q3VycmVudFN5bmMgfSBmcm9tICdAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0nO1xuaW1wb3J0IHsgSG9tZSwgQ0xJUHJvdmlkZXIsIENMSVNlYXJjaExpc3RlbmVyUmVxdWVzdCwgQ0xJVGVtcGxhdGUsIENMSVNlYXJjaFJlc3VsdCwgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSwgQ0xJU2VhcmNoUmVzcG9uc2UsIENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQgIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHsgZ2V0QXBwcyB9IGZyb20gXCIuL2FwcHNcIjtcblxuY29uc3QgcHJvdmlkZXJJZCA9IFwicmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFJlc3VsdHMocXVlcnk/OiBzdHJpbmcpIDogUHJvbWlzZTxDTElTZWFyY2hSZXNwb25zZT4ge1xuICAgXG4gICAgbGV0IGFwcHMgPSBhd2FpdCBnZXRBcHBzKCk7XG5cbiAgICBpZihBcnJheS5pc0FycmF5KGFwcHMpKXsgICBcbiAgICAgICAgbGV0IGluaXRpYWxSZXN1bHRzOiBDTElTZWFyY2hSZXN1bHQ8YW55PltdID0gW107XG5cbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFwcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBlbnRyeTogYW55ID0ge1xuICAgICAgICAgICAgICAgIGtleTogYXBwc1tpXS5hcHBJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogYXBwc1tpXS50aXRsZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBhcHBzW2ldLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtdLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5QbGFpblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSB7IG5hbWU6IFwiTGF1bmNoIFZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfTtcblxuICAgICAgICAgICAgaWYoYXBwc1tpXS5tYW5pZmVzdFR5cGUgPT09IFwidmlld1wiKSB7XG4gICAgICAgICAgICAgICAgZW50cnkubGFiZWwgPSBcIlZpZXdcIjtcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb25zID0gW2FjdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcHBzW2ldLm1hbmlmZXN0VHlwZSA9PT0gXCJzbmFwc2hvdFwiKSB7XG4gICAgICAgICAgICAgICAgZW50cnkubGFiZWwgPSBcIlNuYXBzaG90XCI7XG4gICAgICAgICAgICAgICAgYWN0aW9uLm5hbWUgPSBcIkxhdW5jaCBTbmFwc2hvdFwiO1xuICAgICAgICAgICAgICAgIGVudHJ5LmFjdGlvbnMgPSBbYWN0aW9uXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGFwcHNbaV0ubWFuaWZlc3RUeXBlID09PSBcIm1hbmlmZXN0XCIpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS5sYWJlbCA9IFwiQXBwXCI7XG4gICAgICAgICAgICAgICAgYWN0aW9uLm5hbWUgPSBcIkxhdW5jaCBBcHBcIjtcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb25zID0gW2FjdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcHBzW2ldLm1hbmlmZXN0VHlwZSA9PT0gXCJleHRlcm5hbFwiKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLm5hbWUgPSBcIkxhdW5jaCBOYXRpdmUgQXBwXCI7XG4gICAgICAgICAgICAgICAgZW50cnkuYWN0aW9ucyA9IFthY3Rpb25dO1xuICAgICAgICAgICAgICAgIGVudHJ5LmxhYmVsID0gXCJOYXRpdmUgQXBwXCI7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGFwcHNbaV0uaWNvbnMpICYmIGFwcHNbaV0uaWNvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGVudHJ5Lmljb24gPSBhcHBzW2ldLmljb25zWzBdLnNyYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoYXBwc1tpXS5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZW50cnkuZGVzY3JpcHRpb24gPSBhcHBzW2ldLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIGVudHJ5LnNob3J0RGVzY3JpcHRpb24gPSBhcHBzW2ldLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIGVudHJ5LnRlbXBsYXRlID0gQ0xJVGVtcGxhdGUuU2ltcGxlVGV4dDtcbiAgICAgICAgICAgICAgICBlbnRyeS50ZW1wbGF0ZUNvbnRlbnQgPSBhcHBzW2ldLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5pdGlhbFJlc3VsdHMucHVzaChlbnRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmluYWxSZXN1bHRzO1xuXG4gICAgICAgIGlmKHF1ZXJ5ID09PSB1bmRlZmluZWQgfHwgcXVlcnkgPT09IG51bGwgfHwgcXVlcnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmaW5hbFJlc3VsdHMgPSBpbml0aWFsUmVzdWx0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsUmVzdWx0cyA9IGluaXRpYWxSZXN1bHRzLmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgICAgICAgIGxldCB0YXJnZXRWYWx1ZSA9IGVudHJ5LnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmKHRhcmdldFZhbHVlICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0VmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldFZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0VmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5KSA+IC0xO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3BvbnNlOiBDTElTZWFyY2hSZXNwb25zZSA9IHtcbiAgICAgICAgICAgIHJlc3VsdHM6IGZpbmFsUmVzdWx0c1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0czpbXVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbGlzaW5nIGhvbWUuXCIpO1xuXG4gICAgY29uc3QgcXVlcnlNaW5MZW5ndGggPSAzO1xuXG4gICAgY29uc3Qgb25Vc2VySW5wdXQgPSBhc3luYyAocmVxdWVzdDogQ0xJU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LCByZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSk6IFByb21pc2U8Q0xJU2VhcmNoUmVzcG9uc2U+ID0+IHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZihxdWVyeS5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtyZXN1bHRzOiBbXSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYocXVlcnkubGVuZ3RoIDwgcXVlcnlNaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRSZXN1bHRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0UmVzdWx0cyhxdWVyeSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uU2VsZWN0aW9uID0gYXN5bmMgKHJlc3VsdDpDTElEaXNwYXRjaGVkU2VhcmNoUmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuICAgICAgICAgICAgYXdhaXQgcGxhdGZvcm0ubGF1bmNoQXBwKHthcHA6IHJlc3VsdC5kYXRhfSk7XG4gICAgICAgIH0gIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGV4ZWN1dGUgcmVzdWx0IHdpdGhvdXQgZGF0YSBiZWluZyBwYXNzZWRcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xpUHJvdmlkZXI6Q0xJUHJvdmlkZXIgPSB7XG4gICAgICAgIHRpdGxlOiBcIkJhc2ljIFdvcmtzcGFjZSBQbGF0Zm9ybVwiLFxuICAgICAgICBpZDogcHJvdmlkZXJJZCxcbiAgICAgICAgaWNvbjogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvZmF2aWNvbi5pY29cIixcbiAgICAgICAgb25Vc2VySW5wdXQ6IG9uVXNlcklucHV0LFxuICAgICAgICBvblJlc3VsdERpc3BhdGNoOiBvblNlbGVjdGlvbixcbiAgICAgfTtcblxuICAgICBjb25zb2xlLmxvZyhcIkhvbWUgY29uZmlndXJlZC5cIik7XG5cbiAgICByZXR1cm4gSG9tZS5yZWdpc3RlcihjbGlQcm92aWRlcik7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXJlZ2lzdGVyKCkge1xuICByZXR1cm4gSG9tZS5kZXJlZ2lzdGVyKHByb3ZpZGVySWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvdygpIHtcbiAgICByZXR1cm4gSG9tZS5zaG93KCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoaWRlKCkge1xuICAgIHJldHVybiBIb21lLmhpZGUoKTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBpbml0IGFzIHdvcmtzcGFjZVBsYXRmb3JtSW5pdCB9IGZyb20gJ0BvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybSc7XG5pbXBvcnQgeyByZWdpc3Rlciwgc2hvdywgaGlkZSwgZGVyZWdpc3RlciB9IGZyb20gJy4vaG9tZSc7XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XG4gIGF3YWl0IHdvcmtzcGFjZVBsYXRmb3JtSW5pdCh7XG4gICAgYnJvd3Nlcjoge31cbiAgfSk7XG4gIGxldCByZWdpc3RlckhvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZ2lzdGVyXCIpO1xuICBsZXQgZGVyZWdpc3RlckhvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcmVnaXN0ZXJcIik7XG4gIGxldCBzaG93SG9tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvd1wiKTtcbiAgbGV0IGhpZGVIb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWRlXCIpO1xuXG4gIHJlZ2lzdGVySG9tZS5vbmNsaWNrID0gYXN5bmMgKCk9PiB7XG4gICAgYXdhaXQgcmVnaXN0ZXIoKTtcbiAgICBzaG93SG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJ1bnNldFwiO1xuICAgIGhpZGVIb21lLnN0eWxlLmRpc3BsYXkgPSBcInVuc2V0XCI7XG4gICAgZGVyZWdpc3RlckhvbWUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIlxuICAgIHJlZ2lzdGVySG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH07XG5cbiAgZGVyZWdpc3RlckhvbWUub25jbGljayA9IGFzeW5jICgpPT4ge1xuICAgIHNob3dIb21lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBoaWRlSG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZGVyZWdpc3RlckhvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgcmVnaXN0ZXJIb21lLnN0eWxlLmRpc3BsYXkgPSBcInVuc2V0XCI7XG4gICAgYXdhaXQgZGVyZWdpc3RlcigpO1xuICB9XG5cbiAgc2hvd0hvbWUub25jbGljayA9IGFzeW5jICgpPT4ge1xuICAgIGF3YWl0IHNob3coKTtcbiAgfTtcblxuICBoaWRlSG9tZS5vbmNsaWNrID0gYXN5bmMgKCk9PiB7XG4gICAgYXdhaXQgaGlkZSgpO1xuICB9O1xufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGFzeW5jICgpID0+IHtcbiAgYXdhaXQgaW5pdCgpO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9